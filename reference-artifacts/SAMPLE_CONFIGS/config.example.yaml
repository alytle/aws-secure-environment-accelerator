global-options:
  additional-cwl-regions: {}
  additional-global-output-regions: []
  alz-baseline: false
  aws-config:
    managed-rules:
      defaults:
        remediation: false
        remediation-attempts: 5
        remediation-concurrency: 10
        remediation-retry-seconds: 60
      rules:
      - name: ELB_LOGGING_ENABLED
        parameters:
          s3BucketNames: ${SEA::LogArchiveAesBucket}
        remediation: true
        remediation-action: SSM-ELB-Enable-Logging
        remediation-params:
          LoadBalancerArn: RESOURCE_ID
          LogDestination: ${SEA::LogArchiveAesBucket}
      - name: S3_BUCKET_SERVER_SIDE_ENCRYPTION_ENABLED
        remediation: true
        remediation-action: Put-S3-Encryption
        remediation-params:
          BucketName: RESOURCE_ID
          KMSMasterKey: ${SEA::S3BucketEncryptionKey}
      - name: ACCESS_KEYS_ROTATED
        parameters:
          maxAccessKeyAge: '90'
      - name: ACM_CERTIFICATE_EXPIRATION_CHECK
        parameters:
          daysToExpiration: '90'
      - name: ALB_HTTP_DROP_INVALID_HEADER_ENABLED
      - name: ALB_HTTP_TO_HTTPS_REDIRECTION_CHECK
      - name: ALB_WAF_ENABLED
      - name: API_GW_CACHE_ENABLED_AND_ENCRYPTED
      - name: API_GW_EXECUTION_LOGGING_ENABLED
      - name: AUTOSCALING_GROUP_ELB_HEALTHCHECK_REQUIRED
      - name: CLOUD_TRAIL_CLOUD_WATCH_LOGS_ENABLED
      - name: CLOUD_TRAIL_ENABLED
      - name: CLOUD_TRAIL_ENCRYPTION_ENABLED
      - name: CLOUD_TRAIL_LOG_FILE_VALIDATION_ENABLED
      - name: CLOUDTRAIL_S3_DATAEVENTS_ENABLED
      - name: CLOUDTRAIL_SECURITY_TRAIL_ENABLED
      - name: CLOUDWATCH_ALARM_ACTION_CHECK
        parameters:
          alarmActionRequired: 'TRUE'
          insufficientDataActionRequired: 'TRUE'
          okActionRequired: 'FALSE'
      - name: CODEBUILD_PROJECT_ENVVAR_AWSCRED_CHECK
      - name: CODEBUILD_PROJECT_SOURCE_REPO_URL_CHECK
      - name: CW_LOGGROUP_RETENTION_PERIOD_CHECK
      - name: DB_INSTANCE_BACKUP_ENABLED
      - name: DMS_REPLICATION_NOT_PUBLIC
      - name: DYNAMODB_AUTOSCALING_ENABLED
      - name: DYNAMODB_IN_BACKUP_PLAN
      - name: DYNAMODB_PITR_ENABLED
      - name: DYNAMODB_TABLE_ENCRYPTED_KMS
      - name: EBS_IN_BACKUP_PLAN
      - name: EBS_SNAPSHOT_PUBLIC_RESTORABLE_CHECK
      - name: EC2_EBS_ENCRYPTION_BY_DEFAULT
      - name: EC2_IMDSV2_CHECK
      - name: EC2_INSTANCE_DETAILED_MONITORING_ENABLED
      - name: EC2_INSTANCE_MANAGED_BY_SSM
      - name: EC2_INSTANCE_NO_PUBLIC_IP
      - name: EC2_MANAGEDINSTANCE_ASSOCIATION_COMPLIANCE_STATUS_CHECK
      - name: EC2_MANAGEDINSTANCE_PATCH_COMPLIANCE_STATUS_CHECK
      - name: EC2_STOPPED_INSTANCE
      - name: EC2_VOLUME_INUSE_CHECK
        parameters:
          deleteOnTermination: 'TRUE'
      - name: EFS_ENCRYPTED_CHECK
      - name: EFS_IN_BACKUP_PLAN
      - name: ELASTICACHE_REDIS_CLUSTER_AUTOMATIC_BACKUP_CHECK
      - name: ELASTICSEARCH_ENCRYPTED_AT_REST
      - name: ELASTICSEARCH_IN_VPC_ONLY
      - name: ELASTICSEARCH_NODE_TO_NODE_ENCRYPTION_CHECK
      - name: ELB_ACM_CERTIFICATE_REQUIRED
      - name: ELB_CROSS_ZONE_LOAD_BALANCING_ENABLED
      - name: ELB_DELETION_PROTECTION_ENABLED
      - name: ELB_TLS_HTTPS_LISTENERS_ONLY
      - name: EMR_KERBEROS_ENABLED
      - name: EMR_MASTER_NO_PUBLIC_IP
      - name: ENCRYPTED_VOLUMES
      - name: GUARDDUTY_ENABLED_CENTRALIZED
      - name: GUARDDUTY_NON_ARCHIVED_FINDINGS
        parameters:
          daysHighSev: '1'
          daysLowSev: '30'
          daysMediumSev: '7'
      - name: IAM_GROUP_HAS_USERS_CHECK
      - name: IAM_PASSWORD_POLICY
        parameters:
          MaxPasswordAge: '90'
          MinimumPasswordLength: '14'
          PasswordReusePrevention: '24'
          RequireLowercaseCharacters: 'TRUE'
          RequireNumbers: 'TRUE'
          RequireSymbols: 'TRUE'
          RequireUppercaseCharacters: 'TRUE'
      - name: IAM_ROOT_ACCESS_KEY_CHECK
      - name: IAM_USER_GROUP_MEMBERSHIP_CHECK
      - name: IAM_USER_MFA_ENABLED
      - name: IAM_USER_NO_POLICIES_CHECK
      - name: IAM_USER_UNUSED_CREDENTIALS_CHECK
        parameters:
          maxCredentialUsageAge: '90'
      - name: INCOMING_SSH_DISABLED
      - name: INSTANCES_IN_VPC
      - name: INTERNET_GATEWAY_AUTHORIZED_VPC_ONLY
      - name: KMS_CMK_NOT_SCHEDULED_FOR_DELETION
      - name: LAMBDA_FUNCTION_PUBLIC_ACCESS_PROHIBITED
      - name: MFA_ENABLED_FOR_IAM_CONSOLE_ACCESS
      - name: MULTI_REGION_CLOUD_TRAIL_ENABLED
      - name: RDS_ENHANCED_MONITORING_ENABLED
      - name: RDS_IN_BACKUP_PLAN
      - name: RDS_INSTANCE_DELETION_PROTECTION_ENABLED
      - name: RDS_INSTANCE_PUBLIC_ACCESS_CHECK
      - name: RDS_LOGGING_ENABLED
      - name: RDS_MULTI_AZ_SUPPORT
      - name: RDS_SNAPSHOT_ENCRYPTED
      - name: RDS_SNAPSHOTS_PUBLIC_PROHIBITED
      - name: RDS_STORAGE_ENCRYPTED
      - name: REDSHIFT_CLUSTER_CONFIGURATION_CHECK
        parameters:
          clusterDbEncrypted: 'TRUE'
          loggingEnabled: 'TRUE'
      - name: REDSHIFT_CLUSTER_PUBLIC_ACCESS_CHECK
      - name: REDSHIFT_REQUIRE_TLS_SSL
      - name: RESTRICTED_INCOMING_TRAFFIC
        parameters:
          blockedPort1: '20'
          blockedPort2: '21'
          blockedPort3: '3389'
          blockedPort4: '3306'
          blockedPort5: '4333'
      - name: ROOT_ACCOUNT_HARDWARE_MFA_ENABLED
      - name: ROOT_ACCOUNT_MFA_ENABLED
      - name: S3_ACCOUNT_LEVEL_PUBLIC_ACCESS_BLOCKS
        parameters:
          BlockPublicAcls: 'True'
          BlockPublicPolicy: 'True'
          IgnorePublicAcls: 'True'
          RestrictPublicBuckets: 'True'
      - name: S3_BUCKET_POLICY_GRANTEE_CHECK
      - name: S3_BUCKET_PUBLIC_READ_PROHIBITED
      - name: S3_BUCKET_PUBLIC_WRITE_PROHIBITED
      - name: S3_BUCKET_SSL_REQUESTS_ONLY
      - name: S3_BUCKET_VERSIONING_ENABLED
      - name: SAGEMAKER_ENDPOINT_CONFIGURATION_KMS_KEY_CONFIGURED
      - name: SAGEMAKER_NOTEBOOK_INSTANCE_KMS_KEY_CONFIGURED
      - name: SAGEMAKER_NOTEBOOK_NO_DIRECT_INTERNET_ACCESS
      - name: SECURITYHUB_ENABLED
      - name: VPC_DEFAULT_SECURITY_GROUP_CLOSED
      - name: VPC_FLOW_LOGS_ENABLED
      - name: VPC_SG_OPEN_ONLY_TO_AUTHORIZED_PORTS
        parameters:
          authorizedTcpPorts: '443'
          authorizedUdpPorts: 1020-1025
      - name: WAFV2_LOGGING_ENABLED
  aws-org-master:
    account: master
    region: ca-central-1
  central-bucket: AWSDOC-EXAMPLE-BUCKET
  central-log-services:
    account: log-archive
    cwl-exclusions: []
    cwl-glbl-exclusions: []
    region: ca-central-1
    s3-retention: 730
    sns-excl-regions: []
    sns-subscription-emails:
      High:
      - notify+high@example.com
      Low:
      - notify+low@example.com
      Medium:
      - notify+medium@example.com
    ssm-to-cwl: true
    ssm-to-s3: true
  central-operations-services:
    account: operations
    cwl: true
    cwl-access-level: full
    region: ca-central-1
  central-security-services:
    access-analyzer: true
    account: security
    config-aggr-excl-regions: []
    config-excl-regions: []
    cwl: true
    guardduty: true
    guardduty-excl-regions: []
    guardduty-s3: true
    guardduty-s3-excl-regions: []
    macie: true
    macie-excl-regions: []
    macie-frequency: FIFTEEN_MINUTES
    region: ca-central-1
    security-hub-excl-regions: []
  cloudwatch:
    alarms:
      default-accounts:
      - master
      default-comparison-operator: GreaterThanOrEqualToThreshold
      default-evaluation-periods: 1
      default-namespace: CloudTrailMetrics
      default-period: 300
      default-regions:
      - ca-central-1
      default-statistic: Sum
      default-threshold: 1
      default-threshold-type: Static
      default-treat-missing-data: notBreaching
      definitions:
      - alarm-description: Alarms when one or more API calls are made to create, update
          or delete a Security Group (in any account, any region of your AWS Organization).
        alarm-name: AWS-Security-Group-Changed
        metric-name: SecurityGroupEventCount
        sns-alert-level: Low
      - alarm-description: Alarms when one or more API calls are made to create, update
          or delete a Network ACL (in any account, any region of your AWS Organization).
        alarm-name: AWS-Network-ACL-Changed
        metric-name: NetworkAclEventCount
        sns-alert-level: Medium
      - alarm-description: Alarms when one or more API calls are made to create, update
          or delete a Customer or Internet Gateway (in any account, any region of
          your AWS Organization).
        alarm-name: AWS-Gateway-Changed
        metric-name: GatewayEventCount
        sns-alert-level: Medium
      - alarm-description: Alarms when one or more API calls are made to create, update
          or delete a VPC, VPC peering connection or VPC connection to classic (in
          any account, any region of your AWS Organization).
        alarm-name: AWS-VPC-Changed
        metric-name: VpcEventCount
        sns-alert-level: Medium
      - alarm-description: Alarms when one or more API calls are made to create, terminate,
          start, stop or reboot any EC2 instance (in any account, any region of your
          AWS Organization).
        alarm-name: AWS-EC2-Instances-Changed
        metric-name: EC2InstanceEventCount
        sns-alert-level: Low
      - alarm-description: Alarms when one or more API calls are made to create, terminate,
          start, stop or reboot a 4x, 8x, 9x, 10x, 12x, 16x, 18x, 24x, 32x-large EC2
          instance (in any account, any region of your AWS Organization).
        alarm-name: AWS-EC2-Large-Instance-Changed
        metric-name: EC2LargeInstanceEventCount
        sns-alert-level: Medium
      - alarm-description: Alarms when one or more API calls are made to create, update
          or delete a CloudTrail trail, or to start or stop logging to a trail (in
          any account, any region of your AWS Organization).
        alarm-name: AWS-CloudTrail-Changed
        metric-name: CloudTrailEventCount
        sns-alert-level: High
      - alarm-description: Alarms when one or more unauthenticated API calls are made
          to sign into the console (in any account, any region of your AWS Organization).
        alarm-name: AWS-Console-SignIn-Failure
        metric-name: ConsoleSignInFailureCount
        sns-alert-level: High
        threshold: 3
      - alarm-description: Alarms when one or more unauthorized API calls are made
          (in any account, any region of your AWS Organization).
        alarm-name: AWS-Authorization-Failure
        metric-name: AuthorizationFailureCount
        sns-alert-level: Low
      - alarm-description: Alarms when one or more API calls are made to change an
          IAM policy (in any account, any region of your AWS Organization).
        alarm-name: AWS-IAM-Policy-Changed
        metric-name: IAMPolicyEventCount
        sns-alert-level: Medium
      - alarm-description: Alarms when MFA is NOT used to sign into the console with
          IAM (in any account, any region of your AWS Organization).
        alarm-name: AWS-Console-SignIn-Without-MFA
        metric-name: ConsoleSignInWithoutMfaCount
        sns-alert-level: High
      - alarm-description: Alarms when the root user successfully logs in one or more
          times (in any account, any region of your AWS Organization).
        alarm-name: AWS-Root-Login
        metric-name: RootLoginEventCount
        sns-alert-level: High
      - alarm-description: Alarms when one or more Key Management Service Customer
          Managed Keys are disabled or scheduled for deletion (in any account, any
          region of your AWS Organization).
        alarm-name: AWS-Disable-Or-Delete-KMS-CMK
        metric-name: DisableOrDeleteCMKCount
        sns-alert-level: High
      - alarm-description: Alarms when one or more modifications are made to AWS Config
          Settings (in any account, any region of your AWS Organization).
        alarm-name: AWS-Config-Changed
        metric-name: AWSConfigChangesCount
        sns-alert-level: High
      - alarm-description: Alarms when one or more API calls are made to create, update
          or delete a Route table (in any account, any region of your AWS Organization).
        alarm-name: AWS-Route-Table-Changed
        metric-name: RouteTableChangesCount
        sns-alert-level: Medium
      - alarm-description: Alarms when one or more API calls are made to create, update
          or delete an S3 Bucket policy (in any account, any region of your AWS Organization).
        alarm-name: AWS-S3-Bucket-Policy-Changed
        metric-name: S3BucketPolicyChangesCount
        sns-alert-level: Medium
      - alarm-description: Alarms when someone authenticates using AWS SSO from an
          unauthorized IP address range.
        alarm-name: AWS-SSO-Authentication-From-Unapproved-IP
        metric-name: SSOAuthUnapprovedIPCount
        sns-alert-level: High
      - alarm-description: Alarms when one or more API calls are made to create an
          Unencrypted filesystem (i.e. EFS) (in any account, any region of your AWS
          Organization).
        alarm-name: AWS-Unencrypted-Filesystem-Created
        metric-name: UnencryptedFilesystemCreatedCount
        sns-alert-level: High
    metrics:
    - accounts:
      - master
      filter-name: SecurityGroupChangeMetric
      filter-pattern: '{ ($.eventName = AuthorizeSecurityGroupIngress) || ($.eventName
        = AuthorizeSecurityGroupEgress) || ($.eventName = RevokeSecurityGroupIngress)
        || ($.eventName = RevokeSecurityGroupEgress) || ($.eventName = CreateSecurityGroup)
        || ($.eventName = DeleteSecurityGroup) }'
      loggroup-name: /PBMMAccel/CloudTrail
      metric-name: SecurityGroupEventCount
      metric-namespace: CloudTrailMetrics
      metric-value: '1'
      regions:
      - ca-central-1
    - accounts:
      - master
      filter-name: NetworkAclChangeMetric
      filter-pattern: '{ ($.eventName = CreateNetworkAcl) || ($.eventName = CreateNetworkAclEntry)
        || ($.eventName = DeleteNetworkAcl) || ($.eventName = DeleteNetworkAclEntry)
        || ($.eventName = ReplaceNetworkAclEntry) || ($.eventName = ReplaceNetworkAclAssociation)}'
      loggroup-name: /PBMMAccel/CloudTrail
      metric-name: NetworkAclEventCount
      metric-namespace: CloudTrailMetrics
      metric-value: '1'
      regions:
      - ca-central-1
    - accounts:
      - master
      filter-name: GatewayChangeMetric
      filter-pattern: '{ ($.eventName = CreateCustomerGateway) || ($.eventName = DeleteCustomerGateway)
        || ($.eventName = AttachInternetGateway) || ($.eventName = CreateInternetGateway)
        || ($.eventName = DeleteInternetGateway) || ($.eventName = DetachInternetGateway)}'
      loggroup-name: /PBMMAccel/CloudTrail
      metric-name: GatewayEventCount
      metric-namespace: CloudTrailMetrics
      metric-value: '1'
      regions:
      - ca-central-1
    - accounts:
      - master
      filter-name: VpcChangeMetric
      filter-pattern: '{ ($.eventName = CreateVpc) || ($.eventName = DeleteVpc) ||
        ($.eventName = ModifyVpcAttribute) || ($.eventName = AcceptVpcPeeringConnection)
        || ($.eventName = CreateVpcPeeringConnection) || ($.eventName = DeleteVpcPeeringConnection)
        || ($.eventName = RejectVpcPeeringConnection) || ($.eventName = AttachClassicLinkVpc)
        || ($.eventName = DetachClassicLinkVpc) || ($.eventName = DisableVpcClassicLink)
        || ($.eventName = EnableVpcClassicLink) }'
      loggroup-name: /PBMMAccel/CloudTrail
      metric-name: VpcEventCount
      metric-namespace: CloudTrailMetrics
      metric-value: '1'
      regions:
      - ca-central-1
    - accounts:
      - master
      filter-name: Ec2InstanceChangeMetric
      filter-pattern: '{ ($.eventName = RunInstances) || ($.eventName = RebootInstances)||
        ($.eventName = StartInstances) || ($.eventName = StopInstances) || ($.eventName=
        TerminateInstances) }'
      loggroup-name: /PBMMAccel/CloudTrail
      metric-name: EC2InstanceEventCount
      metric-namespace: CloudTrailMetrics
      metric-value: '1'
      regions:
      - ca-central-1
    - accounts:
      - master
      filter-name: Ec2LargeInstanceChangeMetric
      filter-pattern: '{ (($.eventName = RunInstances) || ($.eventName = RebootInstances)||
        ($.eventName = StartInstances) || ($.eventName = StopInstances) || ($.eventName=
        TerminateInstances)) && (($.requestParameters.instanceType= *.32xlarge) ||
        ($.requestParameters.instanceType= *.24xlarge) || ($.requestParameters.instanceType=
        *.18xlarge) || ($.requestParameters.instanceType= *.16xlarge) || ($.requestParameters.instanceType=
        *.12xlarge) || ($.requestParameters.instanceType= *.10xlarge) || ($.requestParameters.instanceType=
        *.9xlarge) || ($.requestParameters.instanceType= *.8xlarge) || ($.requestParameters.instanceType
        = *.4xlarge)) }'
      loggroup-name: /PBMMAccel/CloudTrail
      metric-name: EC2LargeInstanceEventCount
      metric-namespace: CloudTrailMetrics
      metric-value: '1'
      regions:
      - ca-central-1
    - accounts:
      - master
      filter-name: CloudTrailChangeMetric
      filter-pattern: '{ ($.eventName = CreateTrail) || ($.eventName = UpdateTrail)||
        ($.eventName = DeleteTrail) || ($.eventName = StartLogging) || ($.eventName=
        StopLogging) }'
      loggroup-name: /PBMMAccel/CloudTrail
      metric-name: CloudTrailEventCount
      metric-namespace: CloudTrailMetrics
      metric-value: '1'
      regions:
      - ca-central-1
    - accounts:
      - master
      filter-name: ConsoleSignInFailureMetric
      filter-pattern: '{ ($.eventName = ConsoleLogin) && ($.errorMessage = "Failedauthentication")
        }'
      loggroup-name: /PBMMAccel/CloudTrail
      metric-name: ConsoleSignInFailureCount
      metric-namespace: CloudTrailMetrics
      metric-value: '1'
      regions:
      - ca-central-1
    - accounts:
      - master
      filter-name: AuthorizationFailureMetric
      filter-pattern: '{ ($.errorCode = "*UnauthorizedOperation") || ($.errorCode
        ="AccessDenied*") }'
      loggroup-name: /PBMMAccel/CloudTrail
      metric-name: AuthorizationFailureCount
      metric-namespace: CloudTrailMetrics
      metric-value: '1'
      regions:
      - ca-central-1
    - accounts:
      - master
      filter-name: IamPolicyChangesMetric
      filter-pattern: '{($.eventName=DeleteGroupPolicy)||($.eventName=DeleteRolePolicy)||($.eventName=DeleteUserPolicy)||($.eventName=PutGroupPolicy)||($.eventName=PutRolePolicy)||($.eventName=PutUserPolicy)||($.eventName=CreatePolicy)||($.eventName=DeletePolicy)||($.eventName=CreatePolicyVersion)||($.eventName=DeletePolicyVersion)||($.eventName=AttachRolePolicy)||($.eventName=DetachRolePolicy)||($.eventName=AttachUserPolicy)||($.eventName=DetachUserPolicy)||($.eventName=AttachGroupPolicy)||($.eventName=DetachGroupPolicy)}'
      loggroup-name: /PBMMAccel/CloudTrail
      metric-name: IAMPolicyEventCount
      metric-namespace: CloudTrailMetrics
      metric-value: '1'
      regions:
      - ca-central-1
    - accounts:
      - master
      filter-name: ConsoleSignInWithoutMfaMetric
      filter-pattern: '{($.eventName="ConsoleLogin") && ($.additionalEventData.MFAUsed
        !="Yes")}'
      loggroup-name: /PBMMAccel/CloudTrail
      metric-name: ConsoleSignInWithoutMfaCount
      metric-namespace: CloudTrailMetrics
      metric-value: '1'
      regions:
      - ca-central-1
    - accounts:
      - master
      filter-name: RootLoginMetric
      filter-pattern: '{ $.userIdentity.type = "Root" && $.userIdentity.invokedBy
        NOT EXISTS && $.eventType != "AwsServiceEvent" }'
      loggroup-name: /PBMMAccel/CloudTrail
      metric-name: RootLoginEventCount
      metric-namespace: CloudTrailMetrics
      metric-value: '1'
      regions:
      - ca-central-1
    - accounts:
      - master
      filter-name: DisableOrDeleteCMKMetric
      filter-pattern: '{($.eventSource=kms.amazonaws.com) && (($.eventName=DisableKey)
        || ($.eventName=ScheduleKeyDeletion))}'
      loggroup-name: /PBMMAccel/CloudTrail
      metric-name: DisableOrDeleteCMKCount
      metric-namespace: CloudTrailMetrics
      metric-value: '1'
      regions:
      - ca-central-1
    - accounts:
      - master
      filter-name: AWSConfigChangesMetric
      filter-pattern: '{($.eventSource=config.amazonaws.com) && (($.eventName=StopConfigurationRecorder)
        || ($.eventName=DeleteDeliveryChannel) || ($.eventName=PutDeliveryChannel)
        || ($.eventName=PutConfigurationRecorder))}'
      loggroup-name: /PBMMAccel/CloudTrail
      metric-name: AWSConfigChangesCount
      metric-namespace: CloudTrailMetrics
      metric-value: '1'
      regions:
      - ca-central-1
    - accounts:
      - master
      filter-name: RouteTableChangesMetric
      filter-pattern: '{($.eventName=CreateRoute) || ($.eventName=CreateRouteTable)
        || ($.eventName=ReplaceRoute) || ($.eventName=ReplaceRouteTableAssociation)
        || ($.eventName=DeleteRouteTable) || ($.eventName=DeleteRoute) || ($.eventName=DisassociateRouteTable)}'
      loggroup-name: /PBMMAccel/CloudTrail
      metric-name: RouteTableChangesCount
      metric-namespace: CloudTrailMetrics
      metric-value: '1'
      regions:
      - ca-central-1
    - accounts:
      - master
      filter-name: S3BucketPolicyChangesMetric
      filter-pattern: '{($.eventSource=s3.amazonaws.com) && (($.eventName=PutBucketAcl)
        || ($.eventName=PutBucketPolicy) || ($.eventName=PutBucketCors) || ($.eventName=PutBucketLifecycle)
        || ($.eventName=PutBucketReplication) || ($.eventName=DeleteBucketPolicy)
        || ($.eventName=DeleteBucketCors) || ($.eventName=DeleteBucketLifecycle) ||
        ($.eventName=DeleteBucketReplication))}'
      loggroup-name: /PBMMAccel/CloudTrail
      metric-name: S3BucketPolicyChangesCount
      metric-namespace: CloudTrailMetrics
      metric-value: '1'
      regions:
      - ca-central-1
    - accounts:
      - master
      filter-name: SSOAuthUnapprovedIPMetric
      filter-pattern: '{ ($.eventSource=sso.amazonaws.com) && ($.eventName=Authenticate)
        && (($.sourceIPAddress != 10.10.10.*) || ($.sourceIPAddress != 10.10.*) ||
        ($.sourceIPAddress != 10.*))}'
      loggroup-name: /PBMMAccel/CloudTrail
      metric-name: SSOAuthUnapprovedIPCount
      metric-namespace: CloudTrailMetrics
      metric-value: '1'
      regions:
      - ca-central-1
    - accounts:
      - master
      filter-name: UnencryptedFilesystemCreatedMetric
      filter-pattern: '{ ($.eventName = CreateFileSystem) && ($.responseElements.encrypted
        IS FALSE) } '
      loggroup-name: /PBMMAccel/CloudTrail
      metric-name: UnencryptedFilesystemCreatedCount
      metric-namespace: CloudTrailMetrics
      metric-value: '1'
      regions:
      - ca-central-1
  ct-baseline: false
  default-cwl-retention: 731
  default-s3-retention: 90
  iam-password-policies:
    allow-users-to-change-password: true
    hard-expiry: false
    max-password-age: 90
    minimum-password-length: 14
    password-reuse-prevention: 24
    require-lowercase-characters: true
    require-numbers: true
    require-symbols: true
    require-uppercase-characters: true
  ignored-ous: []
  keep-default-vpc-regions: []
  organization-admin-role: AWSCloudFormationStackSetExecutionRole
  reports:
    cost-and-usage-report:
      additional-artifacts:
      - ATHENA
      additional-schema-elements:
      - RESOURCES
      compression: Parquet
      format: Parquet
      refresh-closed-reports: true
      report-name: Cost-and-Usage-Report
      report-versioning: OVERWRITE_REPORT
      s3-prefix: cur
      time-unit: HOURLY
  scps:
  - description: Core Preventive Guardrails
    name: ASEA-Core
    policy: aws-landing-zone-core-mandatory-preventive-guardrails-Accel.json
  - description: ASEA Guardrails Part 1
    name: Guardrails-Part-1
    policy: PBMMAccel-Guardrails-Part1.json
  - description: ASEA Guardrails Part 2
    name: Guardrails-Part-2
    policy: PBMMAccel-Guardrails-Part2.json
  - description: ASEA Guardrails PBMM Environment Specific
    name: Guardrails-PBMM-Only
    policy: PBMMAccel-Guardrails-PBMM-Only.json
  - description: ASEA Guardrails Unclassified Environment Specific
    name: Guardrails-Unclass-Only
    policy: PBMMAccel-Guardrails-Unclass-Only.json
  - description: ASEA Quarantine policy - Apply to ACCOUNTS that need to be quarantined
    name: Quarantine-New-Object
    policy: Quarantine-New-Object.json
  security-hub-frameworks:
    standards:
    - controls-to-disable:
      - IAM.1
      name: AWS Foundational Security Best Practices v1.0.0
    - controls-to-disable:
      - PCI.IAM.3
      - PCI.KMS.1
      - PCI.S3.3
      - PCI.EC2.3
      - PCI.Lambda.2
      name: PCI DSS v3.2.1
    - controls-to-disable:
      - CIS.1.20
      - CIS.1.22
      - CIS.2.8
      name: CIS AWS Foundations Benchmark v1.2.0
  ssm-automation:
  - accounts:
    - operations
    documents:
    - description: Calls the AWS CLI to enable access logs on a specified ELB.
      name: SSM-ELB-Enable-Logging
      template: ssm-elb-enable-logging.yaml
    - description: Enables S3 encryption using KMS
      name: Put-S3-Encryption
      template: s3-encryption.yaml
    regions:
    - ca-central-1
  supported-regions:
  - ap-northeast-1
  - ap-northeast-2
  - ap-south-1
  - ap-southeast-1
  - ap-southeast-2
  - ca-central-1
  - eu-central-1
  - eu-north-1
  - eu-west-1
  - eu-west-2
  - eu-west-3
  - sa-east-1
  - us-east-1
  - us-east-2
  - us-west-1
  - us-west-2
  vpc-flow-logs:
    custom-fields:
    - version
    - account-id
    - interface-id
    - srcaddr
    - dstaddr
    - srcport
    - dstport
    - protocol
    - packets
    - bytes
    - start
    - end
    - action
    - log-status
    - vpc-id
    - subnet-id
    - instance-id
    - tcp-flags
    - type
    - pkt-srcaddr
    - pkt-dstaddr
    - region
    - az-id
    default-format: false
    filter: ALL
    interval: 60
  workloadaccounts-param-filename: config.json
  workloadaccounts-prefix: config
  workloadaccounts-suffix: 1
mandatory-account-configs:
  log-archive:
    account-name: log-archive
    email: myemail+aseaT-log@example.com---------------------REPLACE----------------------
    ou: core
    src-filename: config.json
  master:
    account-name: primary
    budget:
      alerts:
      - emails:
        - myemail+aseaT-budg@example.com
        threshold-percent: 50
        type: Actual
      - emails:
        - myemail+aseaT-budg@example.com
        threshold-percent: 75
        type: Actual
      - emails:
        - myemail+aseaT-budg@example.com
        threshold-percent: 90
        type: Actual
      - emails:
        - myemail+aseaT-budg@example.com
        threshold-percent: 100
        type: Actual
      amount: 10000
      include:
      - Upfront-reservation-fees
      - Recurring-reservation-charges
      - Other-subscription-costs
      - Taxes
      - Support-charges
      - Discounts
      name: Organization Budget
      period: Monthly
    deployments:
      adc:
        connect-account-key: operations
        connect-dir-id: 1001
        deploy: true
        restrict_srcips:
        - 10.249.1.0/24
        - 100.96.252.0/23
        size: Small
        subnet: ForSSO
        vpc-name: ForSSO
    email: myemail+aseaT-master@example.com---------------------REPLACE----------------------
    iam:
      policies:
      - policy: boundary-policy.txt
        policy-name: Default-Boundary-Policy
      roles: []
      users:
      - boundary-policy: Default-Boundary-Policy
        group: BreakGlassAdmins
        policies:
        - AdministratorAccess
        user-ids:
        - bgUser1
        - bgUser2
      - boundary-policy: Default-Boundary-Policy
        group: OpsAdmins
        policies:
        - AdministratorAccess
        user-ids:
        - OpsUser1
        - OpsUser2
    limits: {}
    ou: core
    s3-retention: 180
    share-mad-from: ''
    src-filename: config.json
    vpc:
    - cidr: 10.249.1.0/24
      deploy: local
      dns-resolver-logging: true
      flow-logs: BOTH
      gateway-endpoints: []
      igw: false
      interface-endpoints: false
      name: ForSSO
      natgw: false
      pcx: false
      region: ca-central-1
      route-tables:
      - name: ForSSO_Shared
        routes:
        - destination:
            account: shared-network
            subnet: GCWide
            vpc: Central
          target: pcx
      subnets:
      - definitions:
        - az: a
          cidr: 10.249.1.0/27
          route-table: ForSSO_Shared
        - az: b
          cidr: 10.249.1.32/27
          route-table: ForSSO_Shared
        name: ForSSO
      tgw-attach: false
      use-central-endpoints: false
      vgw: false
  operations:
    account-name: Operations
    account-warming-required: true
    deployments:
      mad:
        ad-groups:
        - aws-Provisioning
        - aws-Billing
        ad-per-account-groups:
        - '*-Admin'
        - '*-PowerUser'
        - '*-View'
        ad-users:
        - email: myemail+aseaT-adc-usr@example.com
          groups:
          - ADConnector-grp
          user: adconnector-usr
        - email: myemail+aseaT-User1@example.com
          groups:
          - aws-Provisioning
          - '*-View'
          - '*-Admin'
          - '*-PowerUser'
          - AWS Delegated Administrators
          user: User1
        - email: myemail+aseaT-User2@example.com
          groups:
          - '*-View'
          user: User2
        adc-group: ADConnector-grp
        central-resolver-rule-account: shared-network
        central-resolver-rule-vpc: Endpoint
        deploy: true
        dir-id: 1001
        dns-domain: example.local
        log-group-name: /PBMMAccel/MAD/example.local
        max-rdgw-hosts: 2
        min-rdgw-hosts: 1
        netbios-domain: example
        num-rdgw-hosts: 1
        password-policies:
          complexity: true
          failed-attempts: 6
          history: 24
          lockout-attempts-reset: 30
          lockout-duration: 30
          max-age: 90
          min-age: 1
          min-len: 14
          reversible: false
        rdgw-instance-role: PBMMAccel-RDGW-Role
        rdgw-instance-type: t2.large
        rdgw-max-instance-age: 30
        region: ca-central-1
        restrict_srcips:
        - 10.0.0.0/8
        - 100.96.252.0/23
        - 100.96.250.0/23
        security-groups:
        - inbound-rules:
          - description: Allow RDP Traffic Inbound
            source:
            - 10.0.0.0/8
            - 100.96.252.0/23
            - 100.96.250.0/23
            type:
            - RDP
          name: RemoteDesktopGatewaySG
          outbound-rules:
          - description: All Outbound
            source:
            - 0.0.0.0/0
            type:
            - ALL
        share-to-account: ''
        size: Enterprise
        subnet: GCWide
        vpc-name: Central
      rsyslog:
        app-subnets:
        - az: a
          name: App
        - az: b
          name: App
        deploy: true
        desired-rsyslog-hosts: 2
        log-group-name: rsyslog/var/log/messages
        max-rsyslog-hosts: 2
        min-rsyslog-hosts: 1
        region: ca-central-1
        rsyslog-instance-role: PBMMAccel-Rsyslog-Role
        rsyslog-instance-type: t2.large
        rsyslog-max-instance-age: 30
        rsyslog-root-volume-size: 100
        security-groups:
        - inbound-rules:
          - description: Allow Traffic Inbound
            source:
            - 10.0.0.0/8
            - 100.96.252.0/23
            - 100.96.250.0/23
            tcp-ports:
            - 514
            udp-ports:
            - 514
          name: rsyslog
          outbound-rules:
          - description: All Outbound
            source:
            - 0.0.0.0/0
            type:
            - ALL
        ssm-image-id: /aws/service/ami-amazon-linux-latest/amzn2-ami-hvm-x86_64-gp2
        vpc-name: Central
        web-subnets:
        - az: a
          name: Web
        - az: b
          name: Web
    email: myemail+aseaT-operations@example.com---------------------REPLACE----------------------
    iam:
      policies:
      - policy: boundary-policy.txt
        policy-name: Default-Boundary-Policy
      - policy: pbmmaccel-rdgw-custom-policies.txt
        policy-name: PBMMAccel-RDGW-Custom-Policy
      roles:
      - boundary-policy: Default-Boundary-Policy
        policies:
        - AmazonSSMManagedInstanceCore
        - AmazonSSMDirectoryServiceAccess
        - CloudWatchAgentServerPolicy
        role: EC2-Default-SSM-AD-Role
        ssm-log-archive-access: true
        type: ec2
      - boundary-policy: Default-Boundary-Policy
        policies:
        - AmazonSSMManagedInstanceCore
        - AmazonSSMDirectoryServiceAccess
        - CloudWatchAgentServerPolicy
        - PBMMAccel-RDGW-Custom-Policy
        role: PBMMAccel-RDGW-Role
        ssm-log-archive-access: true
        type: ec2
      - boundary-policy: Default-Boundary-Policy
        policies:
        - AmazonSSMManagedInstanceCore
        - CloudWatchAgentServerPolicy
        - AmazonS3ReadOnlyAccess
        role: PBMMAccel-Rsyslog-Role
        ssm-log-archive-access: true
        type: ec2
      users: []
    limits: {}
    ou: core
    share-mad-from: ''
    src-filename: config.json
  perimeter:
    account-name: Perimeter
    account-warming-required: true
    alb:
    - access-logs: true
      action-type: forward
      cert-name: PerimSelf-SignedCert
      ip-type: ipv4
      listeners: HTTPS
      name: Public-Prod
      ports: 443
      scheme: internet-facing
      security-group: Public-Prod-ALB
      security-policy: ELBSecurityPolicy-FS-1-2-Res-2019-08
      subnets: Public
      target-alarms-Count: '2'
      target-alarms-for: '5'
      target-alarms-is: <
      target-alarms-notify: AWS-Landing-Zone-Security-Notification
      target-alarms-of: Healthy Hosts
      target-alarms-periods-of: '1'
      target-alarms-when: Minimum
      targets:
      - health-check-path: /health-check
        health-check-port: 7001
        health-check-protocol: HTTPS
        lambda-filename: ''
        port: 7001
        protocol: HTTPS
        target-instances:
        - az: a
          name: Firewall
          target: firewall
        target-name: FG1-Web-azA
        target-type: instance
        tg-weight: 1
      - health-check-path: /health-check
        health-check-port: 7001
        health-check-protocol: HTTPS
        lambda-filename: ''
        port: 7001
        protocol: HTTPS
        target-instances:
        - az: b
          name: Firewall
          target: firewall
        target-name: FG1-Web-azB
        target-type: instance
        tg-weight: 1
      tg-stickiness: 1 hour
      vpc: Perimeter
    - access-logs: true
      action-type: forward
      cert-name: PerimSelf-SignedCert
      ip-type: ipv4
      listeners: HTTPS
      name: Public-DevTest
      ports: 443
      scheme: internet-facing
      security-group: Public-DevTest-ALB
      security-policy: ELBSecurityPolicy-FS-1-2-Res-2019-08
      subnets: Public
      target-alarms-Count: '2'
      target-alarms-for: '5'
      target-alarms-is: <
      target-alarms-notify: AWS-Landing-Zone-Security-Notification
      target-alarms-of: Healthy Hosts
      target-alarms-periods-of: '1'
      target-alarms-when: Minimum
      targets:
      - health-check-path: /health-check
        health-check-port: 7001
        health-check-protocol: HTTPS
        lambda-filename: ''
        port: 7002
        protocol: HTTPS
        target-instances:
        - az: a
          name: Firewall
          target: firewall
        target-name: FG1-Web-azA
        target-type: instance
        tg-weight: 1
      - health-check-path: /health-check
        health-check-port: 7001
        health-check-protocol: HTTPS
        lambda-filename: ''
        port: 7002
        protocol: HTTPS
        target-instances:
        - az: b
          name: Firewall
          target: firewall
        target-name: FG1-Web-azB
        target-type: instance
        tg-weight: 1
      tg-stickiness: 1 hour
      vpc: Perimeter
    budget:
      alerts:
      - emails:
        - myemail+aseaT-budg@example.com
        threshold-percent: 50
        type: Actual
      - emails:
        - myemail+aseaT-budg@example.com
        threshold-percent: 75
        type: Actual
      - emails:
        - myemail+aseaT-budg@example.com
        threshold-percent: 90
        type: Actual
      - emails:
        - myemail+aseaT-budg@example.com
        threshold-percent: 100
        type: Actual
      amount: 2000
      include:
      - Upfront-reservation-fees
      - Recurring-reservation-charges
      - Other-subscription-costs
      - Taxes
      - Support-charges
      - Discounts
      name: Perimeter Budget
      period: Monthly
    certificates:
    - cert: certs/example1-cert.crt
      name: PerimSelf-SignedCert
      priv-key: certs/example1-cert.key
      type: import
    deployments:
      firewalls:
      - config: firewall/firewall-example.txt
        fw-cgw-asn: 65523
        fw-cgw-name: Perimeter_fw
        fw-cgw-routing: Dynamic
        fw-instance-role: Firewall-Role
        image-id: ami-047aac44951feb9fb
        instance-sizes: c5n.2xlarge
        license:
        - firewall/license1.lic
        - firewall/license2.lic
        name: Firewall
        ports:
        - create-cgw: true
          create-eip: true
          name: Public
          subnet: Public
        - create-cgw: false
          create-eip: false
          name: OnPremise
          subnet: OnPremise
        - create-cgw: false
          create-eip: false
          name: FWMgmt
          subnet: FWMgmt
        - create-cgw: false
          create-eip: false
          name: Proxy
          subnet: Proxy
        region: ca-central-1
        security-group: Firewalls
        tgw-attach:
          account: shared-network
          associate-to-tgw: Main
          associate-type: VPN
          attach-subnets: []
          blackhole-route: false
          name: TGW-to-Perimeter
          options:
          - DNS-support
          tgw-rt-associate:
          - core
          tgw-rt-propagate:
          - core
          - segregated
          - shared
          - standalone
        vpc: Perimeter
      xxfirewall-manager:
        create-eip: true
        image-id: ami-06fa2a9e6f8fae9f2
        instance-sizes: c5.large
        name: FirewallMgr
        region: ca-central-1
        security-group: FirewallMgr
        subnet:
          az: a
          name: FWMgmt
        version: 6.2.3
        vpc: Perimeter
    email: myemail+aseaT-perimeter@example.com---------------------REPLACE----------------------
    iam:
      policies:
      - policy: boundary-policy.txt
        policy-name: Default-Boundary-Policy
      - policy: firewall-fg-policy.txt
        policy-name: Firewall-Policy
      roles:
      - boundary-policy: Default-Boundary-Policy
        policies:
        - AmazonSSMManagedInstanceCore
        - AmazonSSMDirectoryServiceAccess
        - CloudWatchAgentServerPolicy
        role: EC2-Default-SSM-AD-Role
        ssm-log-archive-access: true
        type: ec2
      - boundary-policy: Default-Boundary-Policy
        policies:
        - Firewall-Policy
        role: Firewall-Role
        type: ec2
      users: []
    limits:
      Amazon EC2/Number of EIPs:
        customer-confirm-inplace: false
        value: 5
    ou: core
    populate-all-elbs-in-param-store: true
    share-mad-from: ''
    src-filename: config.json
    vpc:
    - cidr: 10.7.4.0/22
      cidr2: 100.96.250.0/23
      deploy: local
      dns-resolver-logging: true
      flow-logs: BOTH
      gateway-endpoints:
      - s3
      igw: true
      interface-endpoints:
        endpoints:
        - ssm
        - ssmmessages
        - ec2messages
        subnet: Proxy
      name: Perimeter
      natgw: false
      pcx: false
      region: ca-central-1
      route-tables:
      - name: OnPremise_Shared
      - name: Public_Shared
        routes:
        - destination: 0.0.0.0/0
          target: IGW
      - name: FWMgmt_azA
        routes:
        - az: a
          destination: 0.0.0.0/0
          name: Firewall
          port: OnPremise
          target: firewall
        - destination: s3
          target: s3
      - name: FWMgmt_azB
        routes:
        - az: b
          destination: 0.0.0.0/0
          name: Firewall
          port: OnPremise
          target: firewall
        - destination: s3
          target: s3
      - name: Proxy_azA
        routes:
        - az: a
          destination: 0.0.0.0/0
          name: Firewall
          port: Proxy
          target: firewall
      - name: Proxy_azB
        routes:
        - az: b
          destination: 0.0.0.0/0
          name: Firewall
          port: Proxy
          target: firewall
      - name: Detonation_Shared
      security-groups:
      - inbound-rules:
        - description: TLS Traffic Inbound
          source:
          - 0.0.0.0/0
          type:
          - HTTPS
        name: Public-Prod-ALB
        outbound-rules:
        - description: All Outbound
          source:
          - 0.0.0.0/0
          type:
          - ALL
      - inbound-rules:
        - description: TLS Traffic Inbound
          source:
          - 0.0.0.0/0
          type:
          - HTTPS
        name: Public-DevTest-ALB
        outbound-rules:
        - description: All Outbound
          source:
          - 0.0.0.0/0
          type:
          - ALL
      - inbound-rules:
        - description: Allow Mgmt Traffic Inbound
          source:
          - 10.0.0.0/8
          - 100.96.252.0/23
          - 100.96.250.0/23
          tcp-ports:
          - 22
          - 443
          - 514
          - 541
          - 2032
          - 3000
          - 5199
          - 6020
          - 6028
          - 8080
          udp-ports:
          - 9443
        name: FirewallMgr
        outbound-rules:
        - description: All Outbound
          source:
          - 0.0.0.0/0
          type:
          - ALL
      - inbound-rules:
        - description: All Allowed Inbound Traffic
          source:
          - 0.0.0.0/0
          tcp-ports:
          - 443
          - 8080
        - description: Mgmt Traffic, Customer Outbound traffic and ALBs
          source:
          - 10.0.0.0/8
          - 100.96.252.0/23
          - 100.96.250.0/23
          type:
          - ALL
        name: Firewalls
        outbound-rules:
        - description: All Outbound
          source:
          - 0.0.0.0/0
          type:
          - ALL
      subnets:
      - definitions:
        - az: a
          cidr: 100.96.250.0/26
          route-table: Public_Shared
        - az: b
          cidr: 100.96.250.128/26
          route-table: Public_Shared
        name: Public
      - definitions:
        - az: a
          cidr: 100.96.251.32/27
          route-table: FWMgmt_azA
        - az: b
          cidr: 100.96.251.160/27
          route-table: FWMgmt_azB
        name: FWMgmt
      - definitions:
        - az: a
          cidr: 100.96.251.64/26
          route-table: Proxy_azA
        - az: b
          cidr: 100.96.251.192/26
          route-table: Proxy_azB
        name: Proxy
      - definitions:
        - az: a
          cidr: 100.96.250.64/26
          route-table: OnPremise_Shared
        - az: b
          cidr: 100.96.250.192/26
          route-table: OnPremise_Shared
        name: OnPremise
      - definitions:
        - az: a
          cidr: 10.7.4.0/24
          route-table: Detonation_Shared
        - az: b
          cidr: 10.7.5.0/24
          route-table: Detonation_Shared
        name: Detonation
      tgw-attach: false
      use-central-endpoints: false
      vgw: false
  security:
    account-name: security
    email: myemail+aseaT-sec@example.com---------------------REPLACE----------------------
    ou: core
    src-filename: config.json
  shared-network:
    account-name: SharedNetwork
    budget:
      alerts:
      - emails:
        - myemail+aseaT-budg@example.com
        threshold-percent: 50
        type: Actual
      - emails:
        - myemail+aseaT-budg@example.com
        threshold-percent: 75
        type: Actual
      - emails:
        - myemail+aseaT-budg@example.com
        threshold-percent: 90
        type: Actual
      - emails:
        - myemail+aseaT-budg@example.com
        threshold-percent: 100
        type: Actual
      amount: 2000
      include:
      - Upfront-reservation-fees
      - Recurring-reservation-charges
      - Other-subscription-costs
      - Taxes
      - Support-charges
      - Discounts
      name: SharedNetwork Budget
      period: Monthly
    deployments:
      tgw:
      - asn: 65521
        features:
          Auto-accept-sharing-attachments: true
          DNS-support: true
          Default-route-table-association: false
          Default-route-table-propagation: false
          VPN-ECMP-support: true
        name: Main
        region: ca-central-1
        route-tables:
        - core
        - segregated
        - shared
        - standalone
        tgw-routes: []
    email: myemail+aseaT-network@example.com---------------------REPLACE----------------------
    iam:
      policies:
      - policy: boundary-policy.txt
        policy-name: Default-Boundary-Policy
      roles:
      - boundary-policy: Default-Boundary-Policy
        policies:
        - AmazonSSMManagedInstanceCore
        - AmazonSSMDirectoryServiceAccess
        - CloudWatchAgentServerPolicy
        role: EC2-Default-SSM-AD-Role
        ssm-log-archive-access: true
        type: ec2
      users: []
    limits:
      Amazon VPC/Interface VPC endpoints per VPC:
        customer-confirm-inplace: false
        value: 90
      Amazon VPC/VPCs per Region:
        value: 15
    ou: core
    share-mad-from: operations
    src-filename: config.json
    vpc:
    - central-endpoint: true
      cidr: 10.7.0.0/22
      deploy: local
      dns-resolver-logging: true
      flow-logs: BOTH
      gateway-endpoints: []
      igw: false
      interface-endpoints:
        endpoints:
        - ec2
        - ec2messages
        - ssm
        - ssmmessages
        - secretsmanager
        - cloudformation
        - access-analyzer
        - application-autoscaling
        - appmesh-envoy-management
        - athena
        - autoscaling
        - autoscaling-plans
        - clouddirectory
        - cloudtrail
        - codebuild
        - codecommit
        - codepipeline
        - config
        - datasync
        - ecr.dkr
        - ecs
        - ecs-agent
        - ecs-telemetry
        - elasticfilesystem
        - elasticloadbalancing
        - elasticmapreduce
        - events
        - execute-api
        - git-codecommit
        - glue
        - kinesis-streams
        - kms
        - logs
        - monitoring
        - sagemaker.api
        - sagemaker.runtime
        - servicecatalog
        - sms
        - sns
        - sqs
        - storagegateway
        - sts
        - transfer
        - workspaces
        - awsconnector
        - ecr.api
        - kinesis-firehose
        - states
        - acm-pca
        - cassandra
        - ebs
        - elasticbeanstalk
        - elasticbeanstalk-health
        - email-smtp
        - license-manager
        - macie2
        - notebook
        - synthetics
        - transfer.server
        subnet: Endpoint
      name: Endpoint
      natgw: false
      on-premise-rules:
      - outbound-ips:
        - 10.254.254.1
        - 10.254.253.1
        zone: on-premise-privatedomain1.example.ca
      - outbound-ips:
        - 10.254.254.1
        - 10.254.253.1
        zone: on-premise-privatedomain2.example.ca
      pcx: false
      region: ca-central-1
      resolvers:
        inbound: true
        outbound: true
        subnet: Endpoint
      route-tables:
      - name: EndpointVPC_Common
        routes:
        - destination: 0.0.0.0/0
          target: TGW
      subnets:
      - definitions:
        - az: a
          cidr: 10.7.0.0/24
          route-table: EndpointVPC_Common
        - az: b
          cidr: 10.7.1.0/24
          route-table: EndpointVPC_Common
        name: Endpoint
      tgw-attach:
        account: shared-network
        associate-to-tgw: Main
        associate-type: ATTACH
        attach-subnets:
        - Endpoint
        blackhole-route: false
        options:
        - DNS-support
        tgw-rt-associate:
        - core
        tgw-rt-propagate:
        - core
        - segregated
        - shared
        - standalone
      use-central-endpoints: false
      vgw: false
      zones:
        private:
        - cloud-hosted-privatedomain.example.ca
        public:
        - cloud-hosted-publicdomain.example.ca
organizational-units:
  Central:
    aws-config:
    - excl-regions: []
      remediate-regions:
      - ca-central-1
      rules:
      - ELB_LOGGING_ENABLED
      - S3_BUCKET_SERVER_SIDE_ENCRYPTION_ENABLED
      - ACCESS_KEYS_ROTATED
      - ACM_CERTIFICATE_EXPIRATION_CHECK
      - ALB_HTTP_DROP_INVALID_HEADER_ENABLED
      - ALB_HTTP_TO_HTTPS_REDIRECTION_CHECK
      - ALB_WAF_ENABLED
      - API_GW_CACHE_ENABLED_AND_ENCRYPTED
      - API_GW_EXECUTION_LOGGING_ENABLED
      - AUTOSCALING_GROUP_ELB_HEALTHCHECK_REQUIRED
      - CLOUD_TRAIL_CLOUD_WATCH_LOGS_ENABLED
      - CLOUD_TRAIL_ENABLED
      - CLOUD_TRAIL_ENCRYPTION_ENABLED
      - CLOUD_TRAIL_LOG_FILE_VALIDATION_ENABLED
      - CLOUDTRAIL_S3_DATAEVENTS_ENABLED
      - CLOUDTRAIL_SECURITY_TRAIL_ENABLED
      - CLOUDWATCH_ALARM_ACTION_CHECK
      - CODEBUILD_PROJECT_ENVVAR_AWSCRED_CHECK
      - CODEBUILD_PROJECT_SOURCE_REPO_URL_CHECK
      - CW_LOGGROUP_RETENTION_PERIOD_CHECK
      - DB_INSTANCE_BACKUP_ENABLED
      - DMS_REPLICATION_NOT_PUBLIC
      - DYNAMODB_AUTOSCALING_ENABLED
      - DYNAMODB_IN_BACKUP_PLAN
      - DYNAMODB_PITR_ENABLED
      - DYNAMODB_TABLE_ENCRYPTED_KMS
      - EBS_IN_BACKUP_PLAN
      - EBS_SNAPSHOT_PUBLIC_RESTORABLE_CHECK
      - EC2_EBS_ENCRYPTION_BY_DEFAULT
      - EC2_IMDSV2_CHECK
      - EC2_INSTANCE_DETAILED_MONITORING_ENABLED
      - EC2_INSTANCE_MANAGED_BY_SSM
      - EC2_INSTANCE_NO_PUBLIC_IP
      - EC2_MANAGEDINSTANCE_ASSOCIATION_COMPLIANCE_STATUS_CHECK
      - EC2_MANAGEDINSTANCE_PATCH_COMPLIANCE_STATUS_CHECK
      - EC2_STOPPED_INSTANCE
      - EC2_VOLUME_INUSE_CHECK
      - EFS_ENCRYPTED_CHECK
      - EFS_IN_BACKUP_PLAN
      - ELASTICACHE_REDIS_CLUSTER_AUTOMATIC_BACKUP_CHECK
      - ELASTICSEARCH_ENCRYPTED_AT_REST
      - ELASTICSEARCH_IN_VPC_ONLY
      - ELASTICSEARCH_NODE_TO_NODE_ENCRYPTION_CHECK
      - ELB_ACM_CERTIFICATE_REQUIRED
      - ELB_CROSS_ZONE_LOAD_BALANCING_ENABLED
      - ELB_DELETION_PROTECTION_ENABLED
      - ELB_TLS_HTTPS_LISTENERS_ONLY
      - EMR_KERBEROS_ENABLED
      - EMR_MASTER_NO_PUBLIC_IP
      - ENCRYPTED_VOLUMES
      - GUARDDUTY_ENABLED_CENTRALIZED
      - GUARDDUTY_NON_ARCHIVED_FINDINGS
      - IAM_GROUP_HAS_USERS_CHECK
      - IAM_PASSWORD_POLICY
      - IAM_ROOT_ACCESS_KEY_CHECK
      - IAM_USER_GROUP_MEMBERSHIP_CHECK
      - IAM_USER_MFA_ENABLED
      - IAM_USER_NO_POLICIES_CHECK
      - IAM_USER_UNUSED_CREDENTIALS_CHECK
      - INCOMING_SSH_DISABLED
      - INSTANCES_IN_VPC
      - INTERNET_GATEWAY_AUTHORIZED_VPC_ONLY
      - KMS_CMK_NOT_SCHEDULED_FOR_DELETION
      - LAMBDA_FUNCTION_PUBLIC_ACCESS_PROHIBITED
      - MFA_ENABLED_FOR_IAM_CONSOLE_ACCESS
      - MULTI_REGION_CLOUD_TRAIL_ENABLED
      - RDS_ENHANCED_MONITORING_ENABLED
      - RDS_IN_BACKUP_PLAN
      - RDS_INSTANCE_DELETION_PROTECTION_ENABLED
      - RDS_INSTANCE_PUBLIC_ACCESS_CHECK
      - RDS_LOGGING_ENABLED
      - RDS_MULTI_AZ_SUPPORT
      - RDS_SNAPSHOT_ENCRYPTED
      - RDS_SNAPSHOTS_PUBLIC_PROHIBITED
      - RDS_STORAGE_ENCRYPTED
      - REDSHIFT_CLUSTER_CONFIGURATION_CHECK
      - REDSHIFT_CLUSTER_PUBLIC_ACCESS_CHECK
      - REDSHIFT_REQUIRE_TLS_SSL
      - RESTRICTED_INCOMING_TRAFFIC
      - ROOT_ACCOUNT_HARDWARE_MFA_ENABLED
      - ROOT_ACCOUNT_MFA_ENABLED
      - S3_ACCOUNT_LEVEL_PUBLIC_ACCESS_BLOCKS
      - S3_BUCKET_POLICY_GRANTEE_CHECK
      - S3_BUCKET_PUBLIC_READ_PROHIBITED
      - S3_BUCKET_PUBLIC_WRITE_PROHIBITED
      - S3_BUCKET_SSL_REQUESTS_ONLY
      - S3_BUCKET_VERSIONING_ENABLED
      - SAGEMAKER_ENDPOINT_CONFIGURATION_KMS_KEY_CONFIGURED
      - SAGEMAKER_NOTEBOOK_INSTANCE_KMS_KEY_CONFIGURED
      - SAGEMAKER_NOTEBOOK_NO_DIRECT_INTERNET_ACCESS
      - SECURITYHUB_ENABLED
      - VPC_DEFAULT_SECURITY_GROUP_CLOSED
      - VPC_FLOW_LOGS_ENABLED
      - VPC_SG_OPEN_ONLY_TO_AUTHORIZED_PORTS
      - WAFV2_LOGGING_ENABLED
    default-budgets:
      alerts:
      - emails:
        - myemail+aseaT-budg@example.com
        threshold-percent: 50
        type: Actual
      - emails:
        - myemail+aseaT-budg@example.com
        threshold-percent: 75
        type: Actual
      - emails:
        - myemail+aseaT-budg@example.com
        threshold-percent: 90
        type: Actual
      - emails:
        - myemail+aseaT-budg@example.com
        threshold-percent: 100
        type: Actual
      amount: 500
      include:
      - Upfront-reservation-fees
      - Recurring-reservation-charges
      - Other-subscription-costs
      - Taxes
      - Support-charges
      - Discounts
      name: Default Central Budget
      period: Monthly
    iam:
      policies:
      - policy: boundary-policy.txt
        policy-name: Default-Boundary-Policy
      roles:
      - boundary-policy: Default-Boundary-Policy
        policies:
        - AmazonSSMManagedInstanceCore
        - AmazonSSMDirectoryServiceAccess
        - CloudWatchAgentServerPolicy
        role: EC2-Default-SSM-AD-Role
        ssm-log-archive-access: true
        type: ec2
      users: []
    scps:
    - ASEA-Core
    - Guardrails-Part-1
    - Guardrails-Part-2
    - Guardrails-PBMM-Only
    share-mad-from: operations
    ssm-automation:
    - account: operations
      documents:
      - SSM-ELB-Enable-Logging
      - Put-S3-Encryption
      regions:
      - ca-central-1
    type: mandatory
    vpc:
    - cidr: 10.1.0.0/16
      cidr2: 100.96.252.0/23
      deploy: shared-network
      dns-resolver-logging: true
      flow-logs: BOTH
      gateway-endpoints:
      - s3
      - dynamodb
      igw: false
      interface-endpoints: false
      name: Central
      natgw: false
      pcx:
        local-subnets: GCWide
        source: master
        source-subnets: ForSSO
        source-vpc: ForSSO
      region: ca-central-1
      route-tables:
      - name: CentralVPC_Common
        routes:
        - destination: 0.0.0.0/0
          target: TGW
        - destination: s3
          target: s3
        - destination: DynamoDB
          target: DynamoDB
      - name: CentralVPC_GCWide
        routes:
        - destination: 0.0.0.0/0
          target: TGW
        - destination: s3
          target: s3
        - destination: DynamoDB
          target: DynamoDB
        - destination:
            account: master
            subnet: ForSSO
            vpc: ForSSO
          target: pcx
      security-groups:
      - inbound-rules:
        - description: Mgmt RDP/SSH Traffic Inbound
          source:
          - 10.0.0.0/8
          - 100.96.252.0/23
          - 100.96.250.0/23
          type:
          - RDP
          - SSH
        name: Mgmt
        outbound-rules:
        - description: All Outbound
          source:
          - 0.0.0.0/0
          type:
          - ALL
      - inbound-rules:
        - description: World Web Traffic Inbound
          source:
          - 0.0.0.0/0
          type:
          - HTTP
          - HTTPS
        - description: Local Mgmt Traffic Inbound
          source:
          - security-group:
            - Mgmt
          type:
          - ALL
        name: Web
        outbound-rules:
        - description: All Outbound
          source:
          - 0.0.0.0/0
          type:
          - ALL
      - inbound-rules:
        - description: Local Mgmt Traffic Inbound
          source:
          - security-group:
            - Mgmt
          type:
          - ALL
        - description: Local Web Tier Inbound
          source:
          - security-group:
            - Web
          type:
          - ALL
        - description: Allow East/West Communication Inbound
          source:
          - security-group:
            - App
          type:
          - ALL
        name: App
        outbound-rules:
        - description: All Outbound
          source:
          - 0.0.0.0/0
          type:
          - ALL
      - inbound-rules:
        - description: Local Mgmt Traffic Inbound
          source:
          - security-group:
            - Mgmt
          type:
          - ALL
        - description: Local App DB Traffic Inbound
          source:
          - security-group:
            - App
          type:
          - MSSQL
          - MYSQL/AURORA
          - REDSHIFT
          - POSTGRESQL
          - ORACLE-RDS
        - description: Allow East/West Communication Inbound
          source:
          - security-group:
            - Data
          type:
          - ALL
        name: Data
        outbound-rules:
        - description: All Outbound
          source:
          - 0.0.0.0/0
          type:
          - ALL
      subnets:
      - definitions:
        - az: a
          cidr: 10.1.88.0/27
          route-table: CentralVPC_Common
        - az: b
          cidr: 10.1.88.32/27
          route-table: CentralVPC_Common
        - az: d
          cidr: 10.1.88.64/27
          disabled: true
          route-table: CentralVPC_Common
        name: TGW
        share-to-ou-accounts: false
        share-to-specific-accounts: []
      - definitions:
        - az: a
          cidr: 10.1.32.0/20
          route-table: CentralVPC_Common
        - az: b
          cidr: 10.1.128.0/20
          route-table: CentralVPC_Common
        - az: d
          cidr: 10.1.192.0/20
          disabled: true
          route-table: CentralVPC_Common
        name: Web
        share-to-ou-accounts: true
        share-to-specific-accounts:
        - operations
      - definitions:
        - az: a
          cidr: 10.1.0.0/19
          route-table: CentralVPC_Common
        - az: b
          cidr: 10.1.96.0/19
          route-table: CentralVPC_Common
        - az: d
          cidr: 10.1.160.0/19
          disabled: true
          route-table: CentralVPC_Common
        name: App
        share-to-ou-accounts: true
        share-to-specific-accounts:
        - operations
      - definitions:
        - az: a
          cidr: 10.1.48.0/20
          route-table: CentralVPC_Common
        - az: b
          cidr: 10.1.144.0/20
          route-table: CentralVPC_Common
        - az: d
          cidr: 10.1.208.0/20
          disabled: true
          route-table: CentralVPC_Common
        nacls:
        - cidr-blocks:
          - subnet:
            - Web
            vpc: Central
          egress: true
          ports: -1
          protocol: -1
          rule: 100
          rule-action: deny
        - cidr-blocks:
          - 0.0.0.0/0
          egress: true
          ports: -1
          protocol: -1
          rule: 32000
          rule-action: allow
        - cidr-blocks:
          - subnet:
            - Web
            vpc: Central
          egress: false
          ports: -1
          protocol: -1
          rule: 100
          rule-action: deny
        - cidr-blocks:
          - 0.0.0.0/0
          egress: false
          ports: -1
          protocol: -1
          rule: 32000
          rule-action: allow
        name: Data
        share-to-ou-accounts: true
        share-to-specific-accounts:
        - operations
      - definitions:
        - az: a
          cidr: 10.1.64.0/21
          route-table: CentralVPC_Common
        - az: b
          cidr: 10.1.72.0/21
          route-table: CentralVPC_Common
        - az: d
          cidr: 10.1.80.0/21
          disabled: true
          route-table: CentralVPC_Common
        name: Mgmt
        share-to-ou-accounts: false
        share-to-specific-accounts:
        - operations
      - definitions:
        - az: a
          cidr2: 100.96.252.0/25
          route-table: CentralVPC_GCWide
        - az: b
          cidr2: 100.96.252.128/25
          route-table: CentralVPC_GCWide
        - az: d
          cidr2: 100.96.253.0/25
          disabled: true
          route-table: CentralVPC_GCWide
        name: GCWide
        share-to-ou-accounts: false
        share-to-specific-accounts:
        - operations
      tgw-attach:
        account: shared-network
        associate-to-tgw: Main
        associate-type: ATTACH
        attach-subnets:
        - TGW
        blackhole-route: false
        options:
        - DNS-support
        tgw-rt-associate:
        - shared
        tgw-rt-propagate:
        - core
        - shared
        - segregated
      use-central-endpoints: true
      vgw: false
  Dev:
    alb:
    - access-logs: true
      action-type: forward
      cert-name: DevSelf-SignedCert
      ip-type: ipv4
      listeners: HTTPS
      name: Core
      ports: 443
      scheme: internal
      security-group: Web
      security-policy: ELBSecurityPolicy-FS-1-2-Res-2019-08
      subnets: Web
      targets:
      - health-check-path: /health-check
        lambda-filename: internal-dev-alb-lambda.txt
        target-name: health-check-Lambda
        target-type: lambda
      tg-stickiness: ''
      vpc: Dev
    aws-config:
    - excl-regions: []
      remediate-regions:
      - ca-central-1
      rules:
      - ELB_LOGGING_ENABLED
      - S3_BUCKET_SERVER_SIDE_ENCRYPTION_ENABLED
      - ACCESS_KEYS_ROTATED
      - ACM_CERTIFICATE_EXPIRATION_CHECK
      - ALB_HTTP_DROP_INVALID_HEADER_ENABLED
      - ALB_HTTP_TO_HTTPS_REDIRECTION_CHECK
      - ALB_WAF_ENABLED
      - API_GW_CACHE_ENABLED_AND_ENCRYPTED
      - API_GW_EXECUTION_LOGGING_ENABLED
      - AUTOSCALING_GROUP_ELB_HEALTHCHECK_REQUIRED
      - CLOUD_TRAIL_CLOUD_WATCH_LOGS_ENABLED
      - CLOUD_TRAIL_ENABLED
      - CLOUD_TRAIL_ENCRYPTION_ENABLED
      - CLOUD_TRAIL_LOG_FILE_VALIDATION_ENABLED
      - CLOUDTRAIL_S3_DATAEVENTS_ENABLED
      - CLOUDTRAIL_SECURITY_TRAIL_ENABLED
      - CLOUDWATCH_ALARM_ACTION_CHECK
      - CODEBUILD_PROJECT_ENVVAR_AWSCRED_CHECK
      - CODEBUILD_PROJECT_SOURCE_REPO_URL_CHECK
      - CW_LOGGROUP_RETENTION_PERIOD_CHECK
      - DB_INSTANCE_BACKUP_ENABLED
      - DMS_REPLICATION_NOT_PUBLIC
      - DYNAMODB_AUTOSCALING_ENABLED
      - DYNAMODB_IN_BACKUP_PLAN
      - DYNAMODB_PITR_ENABLED
      - DYNAMODB_TABLE_ENCRYPTED_KMS
      - EBS_IN_BACKUP_PLAN
      - EBS_SNAPSHOT_PUBLIC_RESTORABLE_CHECK
      - EC2_EBS_ENCRYPTION_BY_DEFAULT
      - EC2_IMDSV2_CHECK
      - EC2_INSTANCE_DETAILED_MONITORING_ENABLED
      - EC2_INSTANCE_MANAGED_BY_SSM
      - EC2_INSTANCE_NO_PUBLIC_IP
      - EC2_MANAGEDINSTANCE_ASSOCIATION_COMPLIANCE_STATUS_CHECK
      - EC2_MANAGEDINSTANCE_PATCH_COMPLIANCE_STATUS_CHECK
      - EC2_STOPPED_INSTANCE
      - EC2_VOLUME_INUSE_CHECK
      - EFS_ENCRYPTED_CHECK
      - EFS_IN_BACKUP_PLAN
      - ELASTICACHE_REDIS_CLUSTER_AUTOMATIC_BACKUP_CHECK
      - ELASTICSEARCH_ENCRYPTED_AT_REST
      - ELASTICSEARCH_IN_VPC_ONLY
      - ELASTICSEARCH_NODE_TO_NODE_ENCRYPTION_CHECK
      - ELB_ACM_CERTIFICATE_REQUIRED
      - ELB_CROSS_ZONE_LOAD_BALANCING_ENABLED
      - ELB_DELETION_PROTECTION_ENABLED
      - ELB_TLS_HTTPS_LISTENERS_ONLY
      - EMR_KERBEROS_ENABLED
      - EMR_MASTER_NO_PUBLIC_IP
      - ENCRYPTED_VOLUMES
      - GUARDDUTY_ENABLED_CENTRALIZED
      - GUARDDUTY_NON_ARCHIVED_FINDINGS
      - IAM_GROUP_HAS_USERS_CHECK
      - IAM_PASSWORD_POLICY
      - IAM_ROOT_ACCESS_KEY_CHECK
      - IAM_USER_GROUP_MEMBERSHIP_CHECK
      - IAM_USER_MFA_ENABLED
      - IAM_USER_NO_POLICIES_CHECK
      - IAM_USER_UNUSED_CREDENTIALS_CHECK
      - INCOMING_SSH_DISABLED
      - INSTANCES_IN_VPC
      - INTERNET_GATEWAY_AUTHORIZED_VPC_ONLY
      - KMS_CMK_NOT_SCHEDULED_FOR_DELETION
      - LAMBDA_FUNCTION_PUBLIC_ACCESS_PROHIBITED
      - MFA_ENABLED_FOR_IAM_CONSOLE_ACCESS
      - MULTI_REGION_CLOUD_TRAIL_ENABLED
      - RDS_ENHANCED_MONITORING_ENABLED
      - RDS_IN_BACKUP_PLAN
      - RDS_INSTANCE_DELETION_PROTECTION_ENABLED
      - RDS_INSTANCE_PUBLIC_ACCESS_CHECK
      - RDS_LOGGING_ENABLED
      - RDS_MULTI_AZ_SUPPORT
      - RDS_SNAPSHOT_ENCRYPTED
      - RDS_SNAPSHOTS_PUBLIC_PROHIBITED
      - RDS_STORAGE_ENCRYPTED
      - REDSHIFT_CLUSTER_CONFIGURATION_CHECK
      - REDSHIFT_CLUSTER_PUBLIC_ACCESS_CHECK
      - REDSHIFT_REQUIRE_TLS_SSL
      - RESTRICTED_INCOMING_TRAFFIC
      - ROOT_ACCOUNT_HARDWARE_MFA_ENABLED
      - ROOT_ACCOUNT_MFA_ENABLED
      - S3_ACCOUNT_LEVEL_PUBLIC_ACCESS_BLOCKS
      - S3_BUCKET_POLICY_GRANTEE_CHECK
      - S3_BUCKET_PUBLIC_READ_PROHIBITED
      - S3_BUCKET_PUBLIC_WRITE_PROHIBITED
      - S3_BUCKET_SSL_REQUESTS_ONLY
      - S3_BUCKET_VERSIONING_ENABLED
      - SAGEMAKER_ENDPOINT_CONFIGURATION_KMS_KEY_CONFIGURED
      - SAGEMAKER_NOTEBOOK_INSTANCE_KMS_KEY_CONFIGURED
      - SAGEMAKER_NOTEBOOK_NO_DIRECT_INTERNET_ACCESS
      - SECURITYHUB_ENABLED
      - VPC_DEFAULT_SECURITY_GROUP_CLOSED
      - VPC_FLOW_LOGS_ENABLED
      - VPC_SG_OPEN_ONLY_TO_AUTHORIZED_PORTS
      - WAFV2_LOGGING_ENABLED
    certificates:
    - cert: certs/example1-cert.crt
      name: DevSelf-SignedCert
      priv-key: certs/example1-cert.key
      type: import
    default-budgets:
      alerts:
      - emails:
        - myemail+aseaT-budg@example.com
        threshold-percent: 50
        type: Actual
      - emails:
        - myemail+aseaT-budg@example.com
        threshold-percent: 75
        type: Actual
      - emails:
        - myemail+aseaT-budg@example.com
        threshold-percent: 90
        type: Actual
      - emails:
        - myemail+aseaT-budg@example.com
        threshold-percent: 100
        type: Actual
      amount: 2000
      include:
      - Upfront-reservation-fees
      - Recurring-reservation-charges
      - Other-subscription-costs
      - Taxes
      - Support-charges
      - Discounts
      name: Default Dev Budget
      period: Monthly
    iam:
      policies:
      - policy: boundary-policy.txt
        policy-name: Default-Boundary-Policy
      roles:
      - boundary-policy: Default-Boundary-Policy
        policies:
        - AmazonSSMManagedInstanceCore
        - AmazonSSMDirectoryServiceAccess
        - CloudWatchAgentServerPolicy
        role: EC2-Default-SSM-AD-Role
        ssm-log-archive-access: true
        type: ec2
      users: []
    scps:
    - ASEA-Core
    - Guardrails-Part-1
    - Guardrails-Part-2
    - Guardrails-PBMM-Only
    share-mad-from: operations
    ssm-automation:
    - account: operations
      documents:
      - SSM-ELB-Enable-Logging
      - Put-S3-Encryption
      regions:
      - ca-central-1
    type: workload
    vpc:
    - cidr: 10.2.0.0/16
      deploy: shared-network
      dns-resolver-logging: true
      flow-logs: BOTH
      gateway-endpoints:
      - s3
      - dynamodb
      igw: false
      interface-endpoints: false
      name: Dev
      natgw: false
      pcx: false
      region: ca-central-1
      route-tables:
      - name: DevVPC_Common
        routes:
        - destination: 0.0.0.0/0
          target: TGW
        - destination: s3
          target: s3
        - destination: DynamoDB
          target: DynamoDB
      security-groups:
      - inbound-rules:
        - description: Mgmt RDP/SSH Traffic Inbound
          source:
          - 10.0.0.0/8
          - 100.96.252.0/23
          - 100.96.250.0/23
          type:
          - RDP
          - SSH
        - description: Central VPC Traffic Inbound
          source:
          - subnet:
            - Web
            - App
            - Mgmt
            - GCWide
            vpc: Central
          type:
          - ALL
        name: Mgmt
        outbound-rules:
        - description: All Outbound
          source:
          - 0.0.0.0/0
          type:
          - ALL
      - inbound-rules:
        - description: World Web Traffic Inbound
          source:
          - 0.0.0.0/0
          type:
          - HTTP
          - HTTPS
        - description: Central VPC Traffic Inbound
          source:
          - subnet:
            - Web
            - App
            - Mgmt
            - GCWide
            vpc: Central
          type:
          - ALL
        - description: Local Mgmt Traffic Inbound
          source:
          - security-group:
            - Mgmt
          type:
          - ALL
        name: Web
        outbound-rules:
        - description: All Outbound
          source:
          - 0.0.0.0/0
          type:
          - ALL
      - inbound-rules:
        - description: Central VPC Traffic Inbound
          source:
          - subnet:
            - Web
            - App
            - Mgmt
            - GCWide
            vpc: Central
          type:
          - ALL
        - description: Local Mgmt Traffic Inbound
          source:
          - security-group:
            - Mgmt
          type:
          - ALL
        - description: Local Web Tier Inbound
          source:
          - security-group:
            - Web
          type:
          - ALL
        - description: Allow East/West Communication Inbound
          source:
          - security-group:
            - App
          type:
          - ALL
        name: App
        outbound-rules:
        - description: All Outbound
          source:
          - 0.0.0.0/0
          type:
          - ALL
      - inbound-rules:
        - description: Central VPC Traffic Inbound
          source:
          - subnet:
            - Web
            - App
            - Mgmt
            - GCWide
            vpc: Central
          type:
          - ALL
        - description: Local Mgmt Traffic Inbound
          source:
          - security-group:
            - Mgmt
          type:
          - ALL
        - description: Local App DB Traffic Inbound
          source:
          - security-group:
            - App
          type:
          - MSSQL
          - MYSQL/AURORA
          - REDSHIFT
          - POSTGRESQL
          - ORACLE-RDS
        - description: Allow East/West Communication Inbound
          source:
          - security-group:
            - Data
          type:
          - ALL
        name: Data
        outbound-rules:
        - description: All Outbound
          source:
          - 0.0.0.0/0
          type:
          - ALL
      subnets:
      - definitions:
        - az: a
          cidr: 10.2.88.0/27
          route-table: DevVPC_Common
        - az: b
          cidr: 10.2.88.32/27
          route-table: DevVPC_Common
        - az: d
          cidr: 10.2.88.64/27
          disabled: true
          route-table: DevVPC_Common
        name: TGW
        share-to-ou-accounts: false
        share-to-specific-accounts: []
      - definitions:
        - az: a
          cidr: 10.2.32.0/20
          route-table: DevVPC_Common
        - az: b
          cidr: 10.2.128.0/20
          route-table: DevVPC_Common
        - az: d
          cidr: 10.2.192.0/20
          disabled: true
          route-table: DevVPC_Common
        name: Web
        share-to-ou-accounts: true
        share-to-specific-accounts: []
      - definitions:
        - az: a
          cidr: 10.2.0.0/19
          route-table: DevVPC_Common
        - az: b
          cidr: 10.2.96.0/19
          route-table: DevVPC_Common
        - az: d
          cidr: 10.2.160.0/19
          disabled: true
          route-table: DevVPC_Common
        name: App
        share-to-ou-accounts: true
        share-to-specific-accounts: []
      - definitions:
        - az: a
          cidr: 10.2.48.0/20
          route-table: DevVPC_Common
        - az: b
          cidr: 10.2.144.0/20
          route-table: DevVPC_Common
        - az: d
          cidr: 10.2.208.0/20
          disabled: true
          route-table: DevVPC_Common
        nacls:
        - cidr-blocks:
          - subnet:
            - Web
            vpc: Dev
          - subnet:
            - Data
            vpc: Central
          egress: true
          ports: -1
          protocol: -1
          rule: 100
          rule-action: deny
        - cidr-blocks:
          - 0.0.0.0/0
          egress: true
          ports: -1
          protocol: -1
          rule: 32000
          rule-action: allow
        - cidr-blocks:
          - subnet:
            - Web
            vpc: Dev
          - subnet:
            - Data
            vpc: Central
          egress: false
          ports: -1
          protocol: -1
          rule: 100
          rule-action: deny
        - cidr-blocks:
          - 0.0.0.0/0
          egress: false
          ports: -1
          protocol: -1
          rule: 32000
          rule-action: allow
        name: Data
        share-to-ou-accounts: true
        share-to-specific-accounts: []
      - definitions:
        - az: a
          cidr: 10.2.64.0/21
          route-table: DevVPC_Common
        - az: b
          cidr: 10.2.72.0/21
          route-table: DevVPC_Common
        - az: d
          cidr: 10.2.80.0/21
          disabled: true
          route-table: DevVPC_Common
        name: Mgmt
        share-to-ou-accounts: false
        share-to-specific-accounts: []
      tgw-attach:
        account: shared-network
        associate-to-tgw: Main
        associate-type: ATTACH
        attach-subnets:
        - TGW
        blackhole-route: true
        options:
        - DNS-support
        tgw-rt-associate:
        - segregated
        tgw-rt-propagate:
        - core
        - shared
      use-central-endpoints: true
      vgw: false
  Prod:
    alb:
    - access-logs: true
      action-type: forward
      cert-name: ProdSelf-SignedCert
      ip-type: ipv4
      listeners: HTTPS
      name: Core
      ports: 443
      scheme: internal
      security-group: Web
      security-policy: ELBSecurityPolicy-FS-1-2-Res-2019-08
      subnets: Web
      targets:
      - health-check-path: /health-check
        lambda-filename: internal-prod-alb-lambda.txt
        target-name: health-check-Lambda
        target-type: lambda
      tg-stickiness: ''
      vpc: Prod
    aws-config:
    - excl-regions: []
      remediate-regions:
      - ca-central-1
      rules:
      - ELB_LOGGING_ENABLED
      - S3_BUCKET_SERVER_SIDE_ENCRYPTION_ENABLED
      - ACCESS_KEYS_ROTATED
      - ACM_CERTIFICATE_EXPIRATION_CHECK
      - ALB_HTTP_DROP_INVALID_HEADER_ENABLED
      - ALB_HTTP_TO_HTTPS_REDIRECTION_CHECK
      - ALB_WAF_ENABLED
      - API_GW_CACHE_ENABLED_AND_ENCRYPTED
      - API_GW_EXECUTION_LOGGING_ENABLED
      - AUTOSCALING_GROUP_ELB_HEALTHCHECK_REQUIRED
      - CLOUD_TRAIL_CLOUD_WATCH_LOGS_ENABLED
      - CLOUD_TRAIL_ENABLED
      - CLOUD_TRAIL_ENCRYPTION_ENABLED
      - CLOUD_TRAIL_LOG_FILE_VALIDATION_ENABLED
      - CLOUDTRAIL_S3_DATAEVENTS_ENABLED
      - CLOUDTRAIL_SECURITY_TRAIL_ENABLED
      - CLOUDWATCH_ALARM_ACTION_CHECK
      - CODEBUILD_PROJECT_ENVVAR_AWSCRED_CHECK
      - CODEBUILD_PROJECT_SOURCE_REPO_URL_CHECK
      - CW_LOGGROUP_RETENTION_PERIOD_CHECK
      - DB_INSTANCE_BACKUP_ENABLED
      - DMS_REPLICATION_NOT_PUBLIC
      - DYNAMODB_AUTOSCALING_ENABLED
      - DYNAMODB_IN_BACKUP_PLAN
      - DYNAMODB_PITR_ENABLED
      - DYNAMODB_TABLE_ENCRYPTED_KMS
      - EBS_IN_BACKUP_PLAN
      - EBS_SNAPSHOT_PUBLIC_RESTORABLE_CHECK
      - EC2_EBS_ENCRYPTION_BY_DEFAULT
      - EC2_IMDSV2_CHECK
      - EC2_INSTANCE_DETAILED_MONITORING_ENABLED
      - EC2_INSTANCE_MANAGED_BY_SSM
      - EC2_INSTANCE_NO_PUBLIC_IP
      - EC2_MANAGEDINSTANCE_ASSOCIATION_COMPLIANCE_STATUS_CHECK
      - EC2_MANAGEDINSTANCE_PATCH_COMPLIANCE_STATUS_CHECK
      - EC2_STOPPED_INSTANCE
      - EC2_VOLUME_INUSE_CHECK
      - EFS_ENCRYPTED_CHECK
      - EFS_IN_BACKUP_PLAN
      - ELASTICACHE_REDIS_CLUSTER_AUTOMATIC_BACKUP_CHECK
      - ELASTICSEARCH_ENCRYPTED_AT_REST
      - ELASTICSEARCH_IN_VPC_ONLY
      - ELASTICSEARCH_NODE_TO_NODE_ENCRYPTION_CHECK
      - ELB_ACM_CERTIFICATE_REQUIRED
      - ELB_CROSS_ZONE_LOAD_BALANCING_ENABLED
      - ELB_DELETION_PROTECTION_ENABLED
      - ELB_TLS_HTTPS_LISTENERS_ONLY
      - EMR_KERBEROS_ENABLED
      - EMR_MASTER_NO_PUBLIC_IP
      - ENCRYPTED_VOLUMES
      - GUARDDUTY_ENABLED_CENTRALIZED
      - GUARDDUTY_NON_ARCHIVED_FINDINGS
      - IAM_GROUP_HAS_USERS_CHECK
      - IAM_PASSWORD_POLICY
      - IAM_ROOT_ACCESS_KEY_CHECK
      - IAM_USER_GROUP_MEMBERSHIP_CHECK
      - IAM_USER_MFA_ENABLED
      - IAM_USER_NO_POLICIES_CHECK
      - IAM_USER_UNUSED_CREDENTIALS_CHECK
      - INCOMING_SSH_DISABLED
      - INSTANCES_IN_VPC
      - INTERNET_GATEWAY_AUTHORIZED_VPC_ONLY
      - KMS_CMK_NOT_SCHEDULED_FOR_DELETION
      - LAMBDA_FUNCTION_PUBLIC_ACCESS_PROHIBITED
      - MFA_ENABLED_FOR_IAM_CONSOLE_ACCESS
      - MULTI_REGION_CLOUD_TRAIL_ENABLED
      - RDS_ENHANCED_MONITORING_ENABLED
      - RDS_IN_BACKUP_PLAN
      - RDS_INSTANCE_DELETION_PROTECTION_ENABLED
      - RDS_INSTANCE_PUBLIC_ACCESS_CHECK
      - RDS_LOGGING_ENABLED
      - RDS_MULTI_AZ_SUPPORT
      - RDS_SNAPSHOT_ENCRYPTED
      - RDS_SNAPSHOTS_PUBLIC_PROHIBITED
      - RDS_STORAGE_ENCRYPTED
      - REDSHIFT_CLUSTER_CONFIGURATION_CHECK
      - REDSHIFT_CLUSTER_PUBLIC_ACCESS_CHECK
      - REDSHIFT_REQUIRE_TLS_SSL
      - RESTRICTED_INCOMING_TRAFFIC
      - ROOT_ACCOUNT_HARDWARE_MFA_ENABLED
      - ROOT_ACCOUNT_MFA_ENABLED
      - S3_ACCOUNT_LEVEL_PUBLIC_ACCESS_BLOCKS
      - S3_BUCKET_POLICY_GRANTEE_CHECK
      - S3_BUCKET_PUBLIC_READ_PROHIBITED
      - S3_BUCKET_PUBLIC_WRITE_PROHIBITED
      - S3_BUCKET_SSL_REQUESTS_ONLY
      - S3_BUCKET_VERSIONING_ENABLED
      - SAGEMAKER_ENDPOINT_CONFIGURATION_KMS_KEY_CONFIGURED
      - SAGEMAKER_NOTEBOOK_INSTANCE_KMS_KEY_CONFIGURED
      - SAGEMAKER_NOTEBOOK_NO_DIRECT_INTERNET_ACCESS
      - SECURITYHUB_ENABLED
      - VPC_DEFAULT_SECURITY_GROUP_CLOSED
      - VPC_FLOW_LOGS_ENABLED
      - VPC_SG_OPEN_ONLY_TO_AUTHORIZED_PORTS
      - WAFV2_LOGGING_ENABLED
    certificates:
    - cert: certs/example1-cert.crt
      name: ProdSelf-SignedCert
      priv-key: certs/example1-cert.key
      type: import
    default-budgets:
      alerts:
      - emails:
        - myemail+aseaT-budg@example.com
        threshold-percent: 50
        type: Actual
      - emails:
        - myemail+aseaT-budg@example.com
        threshold-percent: 75
        type: Actual
      - emails:
        - myemail+aseaT-budg@example.com
        threshold-percent: 90
        type: Actual
      - emails:
        - myemail+aseaT-budg@example.com
        threshold-percent: 100
        type: Actual
      amount: 1000
      include:
      - Upfront-reservation-fees
      - Recurring-reservation-charges
      - Other-subscription-costs
      - Taxes
      - Support-charges
      - Discounts
      name: Default Prod Budget
      period: Monthly
    iam:
      policies:
      - policy: boundary-policy.txt
        policy-name: Default-Boundary-Policy
      roles:
      - boundary-policy: Default-Boundary-Policy
        policies:
        - AmazonSSMManagedInstanceCore
        - AmazonSSMDirectoryServiceAccess
        - CloudWatchAgentServerPolicy
        role: EC2-Default-SSM-AD-Role
        ssm-log-archive-access: true
        type: ec2
      users: []
    scps:
    - ASEA-Core
    - Guardrails-Part-1
    - Guardrails-Part-2
    - Guardrails-PBMM-Only
    share-mad-from: operations
    ssm-automation:
    - account: operations
      documents:
      - SSM-ELB-Enable-Logging
      - Put-S3-Encryption
      regions:
      - ca-central-1
    type: workload
    vpc:
    - cidr: 10.4.0.0/16
      deploy: shared-network
      dns-resolver-logging: true
      flow-logs: BOTH
      gateway-endpoints:
      - s3
      - dynamodb
      igw: false
      interface-endpoints: false
      name: Prod
      natgw: false
      pcx: false
      region: ca-central-1
      route-tables:
      - name: ProdVPC_Common
        routes:
        - destination: 0.0.0.0/0
          target: TGW
        - destination: s3
          target: s3
        - destination: DynamoDB
          target: DynamoDB
      security-groups:
      - inbound-rules:
        - description: Mgmt RDP/SSH Traffic Inbound
          source:
          - 10.0.0.0/8
          - 100.96.252.0/23
          - 100.96.250.0/23
          type:
          - RDP
          - SSH
        - description: Central VPC Traffic Inbound
          source:
          - subnet:
            - Web
            - App
            - Mgmt
            - GCWide
            vpc: Central
          type:
          - ALL
        name: Mgmt
        outbound-rules:
        - description: All Outbound
          source:
          - 0.0.0.0/0
          type:
          - ALL
      - inbound-rules:
        - description: World Web Traffic Inbound
          source:
          - 0.0.0.0/0
          type:
          - HTTP
          - HTTPS
        - description: Central VPC Traffic Inbound
          source:
          - subnet:
            - Web
            - App
            - Mgmt
            - GCWide
            vpc: Central
          type:
          - ALL
        - description: Local Mgmt Traffic Inbound
          source:
          - security-group:
            - Mgmt
          type:
          - ALL
        name: Web
        outbound-rules:
        - description: All Outbound
          source:
          - 0.0.0.0/0
          type:
          - ALL
      - inbound-rules:
        - description: Central VPC Traffic Inbound
          source:
          - subnet:
            - Web
            - App
            - Mgmt
            - GCWide
            vpc: Central
          type:
          - ALL
        - description: Local Mgmt Traffic Inbound
          source:
          - security-group:
            - Mgmt
          type:
          - ALL
        - description: Local Web Tier Inbound
          source:
          - security-group:
            - Web
          type:
          - ALL
        - description: Allow East/West Communication Inbound
          source:
          - security-group:
            - App
          type:
          - ALL
        name: App
        outbound-rules:
        - description: All Outbound
          source:
          - 0.0.0.0/0
          type:
          - ALL
      - inbound-rules:
        - description: Central VPC Traffic Inbound
          source:
          - subnet:
            - Web
            - App
            - Mgmt
            - GCWide
            vpc: Central
          type:
          - ALL
        - description: Local Mgmt Traffic Inbound
          source:
          - security-group:
            - Mgmt
          type:
          - ALL
        - description: Local App DB Traffic Inbound
          source:
          - security-group:
            - App
          type:
          - MSSQL
          - MYSQL/AURORA
          - REDSHIFT
          - POSTGRESQL
          - ORACLE-RDS
        - description: Allow East/West Communication Inbound
          source:
          - security-group:
            - Data
          type:
          - ALL
        name: Data
        outbound-rules:
        - description: All Outbound
          source:
          - 0.0.0.0/0
          type:
          - ALL
      subnets:
      - definitions:
        - az: a
          cidr: 10.4.88.0/27
          route-table: ProdVPC_Common
        - az: b
          cidr: 10.4.88.32/27
          route-table: ProdVPC_Common
        - az: d
          cidr: 10.4.88.64/27
          disabled: true
          route-table: ProdVPC_Common
        name: TGW
        share-to-ou-accounts: false
        share-to-specific-accounts: []
      - definitions:
        - az: a
          cidr: 10.4.32.0/20
          route-table: ProdVPC_Common
        - az: b
          cidr: 10.4.128.0/20
          route-table: ProdVPC_Common
        - az: d
          cidr: 10.4.192.0/20
          disabled: true
          route-table: ProdVPC_Common
        name: Web
        share-to-ou-accounts: true
        share-to-specific-accounts: []
      - definitions:
        - az: a
          cidr: 10.4.0.0/19
          route-table: ProdVPC_Common
        - az: b
          cidr: 10.4.96.0/19
          route-table: ProdVPC_Common
        - az: d
          cidr: 10.4.160.0/19
          disabled: true
          route-table: ProdVPC_Common
        name: App
        share-to-ou-accounts: true
        share-to-specific-accounts: []
      - definitions:
        - az: a
          cidr: 10.4.48.0/20
          route-table: ProdVPC_Common
        - az: b
          cidr: 10.4.144.0/20
          route-table: ProdVPC_Common
        - az: d
          cidr: 10.4.208.0/20
          disabled: true
          route-table: ProdVPC_Common
        nacls:
        - cidr-blocks:
          - subnet:
            - Web
            vpc: Prod
          - subnet:
            - Data
            vpc: Central
          egress: true
          ports: -1
          protocol: -1
          rule: 100
          rule-action: deny
        - cidr-blocks:
          - 0.0.0.0/0
          egress: true
          ports: -1
          protocol: -1
          rule: 32000
          rule-action: allow
        - cidr-blocks:
          - subnet:
            - Web
            vpc: Prod
          - subnet:
            - Data
            vpc: Central
          egress: false
          ports: -1
          protocol: -1
          rule: 100
          rule-action: deny
        - cidr-blocks:
          - 0.0.0.0/0
          egress: false
          ports: -1
          protocol: -1
          rule: 32000
          rule-action: allow
        name: Data
        share-to-ou-accounts: true
        share-to-specific-accounts: []
      - definitions:
        - az: a
          cidr: 10.4.64.0/21
          route-table: ProdVPC_Common
        - az: b
          cidr: 10.4.72.0/21
          route-table: ProdVPC_Common
        - az: d
          cidr: 10.4.80.0/21
          disabled: true
          route-table: ProdVPC_Common
        name: Mgmt
        share-to-ou-accounts: false
        share-to-specific-accounts: []
      tgw-attach:
        account: shared-network
        associate-to-tgw: Main
        associate-type: ATTACH
        attach-subnets:
        - TGW
        blackhole-route: true
        options:
        - DNS-support
        tgw-rt-associate:
        - segregated
        tgw-rt-propagate:
        - core
        - shared
      use-central-endpoints: true
      vgw: false
  Sandbox:
    default-budgets:
      alerts:
      - emails:
        - myemail+aseaT-budg@example.com
        threshold-percent: 50
        type: Actual
      - emails:
        - myemail+aseaT-budg@example.com
        threshold-percent: 75
        type: Actual
      - emails:
        - myemail+aseaT-budg@example.com
        threshold-percent: 90
        type: Actual
      - emails:
        - myemail+aseaT-budg@example.com
        threshold-percent: 100
        type: Actual
      amount: 200
      include:
      - Upfront-reservation-fees
      - Recurring-reservation-charges
      - Other-subscription-costs
      - Taxes
      - Support-charges
      - Discounts
      name: Default Sandbox Budget
      period: Monthly
    iam:
      policies:
      - policy: boundary-policy.txt
        policy-name: Default-Boundary-Policy
      roles:
      - boundary-policy: Default-Boundary-Policy
        policies:
        - AmazonSSMManagedInstanceCore
        - AmazonSSMDirectoryServiceAccess
        - CloudWatchAgentServerPolicy
        role: EC2-Default-SSM-AD-Role
        ssm-log-archive-access: true
        type: ec2
      users: []
    scps:
    - ASEA-Core
    - Guardrails-Part-1
    - Guardrails-Part-2
    - Guardrails-Unclass-Only
    share-mad-from: ''
    type: workload
    vpc:
    - cidr: 10.6.0.0/16
      deploy: local
      dns-resolver-logging: true
      flow-logs: BOTH
      gateway-endpoints: []
      igw: true
      interface-endpoints: false
      name: Sandbox
      natgw:
        subnet:
          az: a
          name: Web
      pcx: false
      region: ca-central-1
      route-tables:
      - name: SandboxVPC_IGW
        routes:
        - destination: 0.0.0.0/0
          target: IGW
      - name: SandboxVPC_Common
        routes:
        - destination: 0.0.0.0/0
          target: NATGW_Web_azA
      security-groups:
      - inbound-rules:
        - description: Mgmt RDP/SSH Traffic Inbound
          source:
          - 10.0.0.0/8
          - 100.96.252.0/23
          - 100.96.250.0/23
          type:
          - RDP
          - SSH
        name: Mgmt
        outbound-rules:
        - description: All Outbound
          source:
          - 0.0.0.0/0
          type:
          - ALL
      - inbound-rules:
        - description: World Web Traffic Inbound
          source:
          - 0.0.0.0/0
          type:
          - HTTP
          - HTTPS
        - description: Local Mgmt Traffic Inbound
          source:
          - security-group:
            - Mgmt
          type:
          - ALL
        name: Web
        outbound-rules:
        - description: All Outbound
          source:
          - 0.0.0.0/0
          type:
          - ALL
      - inbound-rules:
        - description: Local Mgmt Traffic Inbound
          source:
          - security-group:
            - Mgmt
          type:
          - ALL
        - description: Local Web Tier Inbound
          source:
          - security-group:
            - Web
          type:
          - ALL
        - description: Allow East/West Communication Inbound
          source:
          - security-group:
            - App
          type:
          - ALL
        name: App
        outbound-rules:
        - description: All Outbound
          source:
          - 0.0.0.0/0
          type:
          - ALL
      - inbound-rules:
        - description: Local Mgmt Traffic Inbound
          source:
          - security-group:
            - Mgmt
          type:
          - ALL
        - description: Local App DB Traffic Inbound
          source:
          - security-group:
            - App
          type:
          - MSSQL
          - MYSQL/AURORA
          - REDSHIFT
          - POSTGRESQL
          - ORACLE-RDS
        - description: Allow East/West Communication Inbound
          source:
          - security-group:
            - Data
          type:
          - ALL
        name: Data
        outbound-rules:
        - description: All Outbound
          source:
          - 0.0.0.0/0
          type:
          - ALL
      subnets:
      - definitions:
        - az: a
          cidr: 10.6.32.0/20
          route-table: SandboxVPC_IGW
        - az: b
          cidr: 10.6.128.0/20
          route-table: SandboxVPC_IGW
        - az: d
          cidr: 10.6.192.0/20
          disabled: true
          route-table: SandboxVPC_IGW
        name: Web
        share-to-ou-accounts: false
        share-to-specific-accounts: []
      - definitions:
        - az: a
          cidr: 10.6.0.0/19
          route-table: SandboxVPC_Common
        - az: b
          cidr: 10.6.96.0/19
          route-table: SandboxVPC_Common
        - az: d
          cidr: 10.6.160.0/19
          disabled: true
          route-table: SandboxVPC_Common
        name: App
        share-to-ou-accounts: false
        share-to-specific-accounts: []
      - definitions:
        - az: a
          cidr: 10.6.48.0/20
          route-table: SandboxVPC_Common
        - az: b
          cidr: 10.6.144.0/20
          route-table: SandboxVPC_Common
        - az: d
          cidr: 10.6.208.0/20
          disabled: true
          route-table: SandboxVPC_Common
        nacls:
        - cidr-blocks:
          - subnet:
            - Web
            vpc: Sandbox
          - account: shared-network
            subnet:
            - Data
            vpc: Central
          egress: true
          ports: -1
          protocol: -1
          rule: 100
          rule-action: deny
        - cidr-blocks:
          - 0.0.0.0/0
          egress: true
          ports: -1
          protocol: -1
          rule: 32000
          rule-action: allow
        - cidr-blocks:
          - subnet:
            - Web
            vpc: Sandbox
          - account: shared-network
            subnet:
            - Data
            vpc: Central
          egress: false
          ports: -1
          protocol: -1
          rule: 100
          rule-action: deny
        - cidr-blocks:
          - 0.0.0.0/0
          egress: false
          ports: -1
          protocol: -1
          rule: 32000
          rule-action: allow
        name: Data
        share-to-ou-accounts: false
        share-to-specific-accounts: []
      - definitions:
        - az: a
          cidr: 10.6.64.0/21
          route-table: SandboxVPC_Common
        - az: b
          cidr: 10.6.72.0/21
          route-table: SandboxVPC_Common
        - az: d
          cidr: 10.6.80.0/21
          disabled: true
          route-table: SandboxVPC_Common
        name: Mgmt
        share-to-ou-accounts: false
        share-to-specific-accounts: []
      tgw-attach: false
      use-central-endpoints: false
      vgw: false
  Test:
    alb:
    - access-logs: true
      action-type: forward
      cert-name: TestSelf-SignedCert
      ip-type: ipv4
      listeners: HTTPS
      name: Core
      ports: 443
      scheme: internal
      security-group: Web
      security-policy: ELBSecurityPolicy-FS-1-2-Res-2019-08
      subnets: Web
      targets:
      - health-check-path: /health-check
        lambda-filename: internal-test-alb-lambda.txt
        target-name: health-check-Lambda
        target-type: lambda
      tg-stickiness: ''
      vpc: Test
    aws-config:
    - excl-regions: []
      remediate-regions:
      - ca-central-1
      rules:
      - ELB_LOGGING_ENABLED
      - S3_BUCKET_SERVER_SIDE_ENCRYPTION_ENABLED
      - ACCESS_KEYS_ROTATED
      - ACM_CERTIFICATE_EXPIRATION_CHECK
      - ALB_HTTP_DROP_INVALID_HEADER_ENABLED
      - ALB_HTTP_TO_HTTPS_REDIRECTION_CHECK
      - ALB_WAF_ENABLED
      - API_GW_CACHE_ENABLED_AND_ENCRYPTED
      - API_GW_EXECUTION_LOGGING_ENABLED
      - AUTOSCALING_GROUP_ELB_HEALTHCHECK_REQUIRED
      - CLOUD_TRAIL_CLOUD_WATCH_LOGS_ENABLED
      - CLOUD_TRAIL_ENABLED
      - CLOUD_TRAIL_ENCRYPTION_ENABLED
      - CLOUD_TRAIL_LOG_FILE_VALIDATION_ENABLED
      - CLOUDTRAIL_S3_DATAEVENTS_ENABLED
      - CLOUDTRAIL_SECURITY_TRAIL_ENABLED
      - CLOUDWATCH_ALARM_ACTION_CHECK
      - CODEBUILD_PROJECT_ENVVAR_AWSCRED_CHECK
      - CODEBUILD_PROJECT_SOURCE_REPO_URL_CHECK
      - CW_LOGGROUP_RETENTION_PERIOD_CHECK
      - DB_INSTANCE_BACKUP_ENABLED
      - DMS_REPLICATION_NOT_PUBLIC
      - DYNAMODB_AUTOSCALING_ENABLED
      - DYNAMODB_IN_BACKUP_PLAN
      - DYNAMODB_PITR_ENABLED
      - DYNAMODB_TABLE_ENCRYPTED_KMS
      - EBS_IN_BACKUP_PLAN
      - EBS_SNAPSHOT_PUBLIC_RESTORABLE_CHECK
      - EC2_EBS_ENCRYPTION_BY_DEFAULT
      - EC2_IMDSV2_CHECK
      - EC2_INSTANCE_DETAILED_MONITORING_ENABLED
      - EC2_INSTANCE_MANAGED_BY_SSM
      - EC2_INSTANCE_NO_PUBLIC_IP
      - EC2_MANAGEDINSTANCE_ASSOCIATION_COMPLIANCE_STATUS_CHECK
      - EC2_MANAGEDINSTANCE_PATCH_COMPLIANCE_STATUS_CHECK
      - EC2_STOPPED_INSTANCE
      - EC2_VOLUME_INUSE_CHECK
      - EFS_ENCRYPTED_CHECK
      - EFS_IN_BACKUP_PLAN
      - ELASTICACHE_REDIS_CLUSTER_AUTOMATIC_BACKUP_CHECK
      - ELASTICSEARCH_ENCRYPTED_AT_REST
      - ELASTICSEARCH_IN_VPC_ONLY
      - ELASTICSEARCH_NODE_TO_NODE_ENCRYPTION_CHECK
      - ELB_ACM_CERTIFICATE_REQUIRED
      - ELB_CROSS_ZONE_LOAD_BALANCING_ENABLED
      - ELB_DELETION_PROTECTION_ENABLED
      - ELB_TLS_HTTPS_LISTENERS_ONLY
      - EMR_KERBEROS_ENABLED
      - EMR_MASTER_NO_PUBLIC_IP
      - ENCRYPTED_VOLUMES
      - GUARDDUTY_ENABLED_CENTRALIZED
      - GUARDDUTY_NON_ARCHIVED_FINDINGS
      - IAM_GROUP_HAS_USERS_CHECK
      - IAM_PASSWORD_POLICY
      - IAM_ROOT_ACCESS_KEY_CHECK
      - IAM_USER_GROUP_MEMBERSHIP_CHECK
      - IAM_USER_MFA_ENABLED
      - IAM_USER_NO_POLICIES_CHECK
      - IAM_USER_UNUSED_CREDENTIALS_CHECK
      - INCOMING_SSH_DISABLED
      - INSTANCES_IN_VPC
      - INTERNET_GATEWAY_AUTHORIZED_VPC_ONLY
      - KMS_CMK_NOT_SCHEDULED_FOR_DELETION
      - LAMBDA_FUNCTION_PUBLIC_ACCESS_PROHIBITED
      - MFA_ENABLED_FOR_IAM_CONSOLE_ACCESS
      - MULTI_REGION_CLOUD_TRAIL_ENABLED
      - RDS_ENHANCED_MONITORING_ENABLED
      - RDS_IN_BACKUP_PLAN
      - RDS_INSTANCE_DELETION_PROTECTION_ENABLED
      - RDS_INSTANCE_PUBLIC_ACCESS_CHECK
      - RDS_LOGGING_ENABLED
      - RDS_MULTI_AZ_SUPPORT
      - RDS_SNAPSHOT_ENCRYPTED
      - RDS_SNAPSHOTS_PUBLIC_PROHIBITED
      - RDS_STORAGE_ENCRYPTED
      - REDSHIFT_CLUSTER_CONFIGURATION_CHECK
      - REDSHIFT_CLUSTER_PUBLIC_ACCESS_CHECK
      - REDSHIFT_REQUIRE_TLS_SSL
      - RESTRICTED_INCOMING_TRAFFIC
      - ROOT_ACCOUNT_HARDWARE_MFA_ENABLED
      - ROOT_ACCOUNT_MFA_ENABLED
      - S3_ACCOUNT_LEVEL_PUBLIC_ACCESS_BLOCKS
      - S3_BUCKET_POLICY_GRANTEE_CHECK
      - S3_BUCKET_PUBLIC_READ_PROHIBITED
      - S3_BUCKET_PUBLIC_WRITE_PROHIBITED
      - S3_BUCKET_SSL_REQUESTS_ONLY
      - S3_BUCKET_VERSIONING_ENABLED
      - SAGEMAKER_ENDPOINT_CONFIGURATION_KMS_KEY_CONFIGURED
      - SAGEMAKER_NOTEBOOK_INSTANCE_KMS_KEY_CONFIGURED
      - SAGEMAKER_NOTEBOOK_NO_DIRECT_INTERNET_ACCESS
      - SECURITYHUB_ENABLED
      - VPC_DEFAULT_SECURITY_GROUP_CLOSED
      - VPC_FLOW_LOGS_ENABLED
      - VPC_SG_OPEN_ONLY_TO_AUTHORIZED_PORTS
      - WAFV2_LOGGING_ENABLED
    certificates:
    - cert: certs/example1-cert.crt
      name: TestSelf-SignedCert
      priv-key: certs/example1-cert.key
      type: import
    default-budgets:
      alerts:
      - emails:
        - myemail+aseaT-budg@example.com
        threshold-percent: 50
        type: Actual
      - emails:
        - myemail+aseaT-budg@example.com
        threshold-percent: 75
        type: Actual
      - emails:
        - myemail+aseaT-budg@example.com
        threshold-percent: 90
        type: Actual
      - emails:
        - myemail+aseaT-budg@example.com
        threshold-percent: 100
        type: Actual
      amount: 1000
      include:
      - Upfront-reservation-fees
      - Recurring-reservation-charges
      - Other-subscription-costs
      - Taxes
      - Support-charges
      - Discounts
      name: Default Test Budget
      period: Monthly
    iam:
      policies:
      - policy: boundary-policy.txt
        policy-name: Default-Boundary-Policy
      roles:
      - boundary-policy: Default-Boundary-Policy
        policies:
        - AmazonSSMManagedInstanceCore
        - AmazonSSMDirectoryServiceAccess
        - CloudWatchAgentServerPolicy
        role: EC2-Default-SSM-AD-Role
        ssm-log-archive-access: true
        type: ec2
      users: []
    scps:
    - ASEA-Core
    - Guardrails-Part-1
    - Guardrails-Part-2
    - Guardrails-PBMM-Only
    share-mad-from: operations
    ssm-automation:
    - account: operations
      documents:
      - SSM-ELB-Enable-Logging
      - Put-S3-Encryption
      regions:
      - ca-central-1
    type: workload
    vpc:
    - cidr: 10.3.0.0/16
      deploy: shared-network
      dns-resolver-logging: true
      flow-logs: BOTH
      gateway-endpoints:
      - s3
      - dynamodb
      igw: false
      interface-endpoints: false
      name: Test
      natgw: false
      pcx: false
      region: ca-central-1
      route-tables:
      - name: TestVPC_Common
        routes:
        - destination: 0.0.0.0/0
          target: TGW
        - destination: s3
          target: s3
        - destination: DynamoDB
          target: DynamoDB
      security-groups:
      - inbound-rules:
        - description: Mgmt RDP/SSH Traffic Inbound
          source:
          - 10.0.0.0/8
          - 100.96.252.0/23
          - 100.96.250.0/23
          type:
          - RDP
          - SSH
        - description: Central VPC Traffic Inbound
          source:
          - subnet:
            - Web
            - App
            - Mgmt
            - GCWide
            vpc: Central
          type:
          - ALL
        name: Mgmt
        outbound-rules:
        - description: All Outbound
          source:
          - 0.0.0.0/0
          type:
          - ALL
      - inbound-rules:
        - description: World Web Traffic Inbound
          source:
          - 0.0.0.0/0
          type:
          - HTTP
          - HTTPS
        - description: Central VPC Traffic Inbound
          source:
          - subnet:
            - Web
            - App
            - Mgmt
            - GCWide
            vpc: Central
          type:
          - ALL
        - description: Local Mgmt Traffic Inbound
          source:
          - security-group:
            - Mgmt
          type:
          - ALL
        name: Web
        outbound-rules:
        - description: All Outbound
          source:
          - 0.0.0.0/0
          type:
          - ALL
      - inbound-rules:
        - description: Central VPC Traffic Inbound
          source:
          - subnet:
            - Web
            - App
            - Mgmt
            - GCWide
            vpc: Central
          type:
          - ALL
        - description: Local Mgmt Traffic Inbound
          source:
          - security-group:
            - Mgmt
          type:
          - ALL
        - description: Local Web Tier Inbound
          source:
          - security-group:
            - Web
          type:
          - ALL
        - description: Allow East/West Communication Inbound
          source:
          - security-group:
            - App
          type:
          - ALL
        name: App
        outbound-rules:
        - description: All Outbound
          source:
          - 0.0.0.0/0
          type:
          - ALL
      - inbound-rules:
        - description: Central VPC Traffic Inbound
          source:
          - subnet:
            - Web
            - App
            - Mgmt
            - GCWide
            vpc: Central
          type:
          - ALL
        - description: Local Mgmt Traffic Inbound
          source:
          - security-group:
            - Mgmt
          type:
          - ALL
        - description: Local App DB Traffic Inbound
          source:
          - security-group:
            - App
          type:
          - MSSQL
          - MYSQL/AURORA
          - REDSHIFT
          - POSTGRESQL
          - ORACLE-RDS
        - description: Allow East/West Communication Inbound
          source:
          - security-group:
            - Data
          type:
          - ALL
        name: Data
        outbound-rules:
        - description: All Outbound
          source:
          - 0.0.0.0/0
          type:
          - ALL
      subnets:
      - definitions:
        - az: a
          cidr: 10.3.88.0/27
          route-table: TestVPC_Common
        - az: b
          cidr: 10.3.88.32/27
          route-table: TestVPC_Common
        - az: d
          cidr: 10.3.88.64/27
          disabled: true
          route-table: TestVPC_Common
        name: TGW
        share-to-ou-accounts: false
        share-to-specific-accounts: []
      - definitions:
        - az: a
          cidr: 10.3.32.0/20
          route-table: TestVPC_Common
        - az: b
          cidr: 10.3.128.0/20
          route-table: TestVPC_Common
        - az: d
          cidr: 10.3.192.0/20
          disabled: true
          route-table: TestVPC_Common
        name: Web
        share-to-ou-accounts: true
        share-to-specific-accounts: []
      - definitions:
        - az: a
          cidr: 10.3.0.0/19
          route-table: TestVPC_Common
        - az: b
          cidr: 10.3.96.0/19
          route-table: TestVPC_Common
        - az: d
          cidr: 10.3.160.0/19
          disabled: true
          route-table: TestVPC_Common
        name: App
        share-to-ou-accounts: true
        share-to-specific-accounts: []
      - definitions:
        - az: a
          cidr: 10.3.48.0/20
          route-table: TestVPC_Common
        - az: b
          cidr: 10.3.144.0/20
          route-table: TestVPC_Common
        - az: d
          cidr: 10.3.208.0/20
          disabled: true
          route-table: TestVPC_Common
        nacls:
        - cidr-blocks:
          - subnet:
            - Web
            vpc: Test
          - subnet:
            - Data
            vpc: Central
          egress: true
          ports: -1
          protocol: -1
          rule: 100
          rule-action: deny
        - cidr-blocks:
          - 0.0.0.0/0
          egress: true
          ports: -1
          protocol: -1
          rule: 32000
          rule-action: allow
        - cidr-blocks:
          - subnet:
            - Web
            vpc: Test
          - subnet:
            - Data
            vpc: Central
          egress: false
          ports: -1
          protocol: -1
          rule: 100
          rule-action: deny
        - cidr-blocks:
          - 0.0.0.0/0
          egress: false
          ports: -1
          protocol: -1
          rule: 32000
          rule-action: allow
        name: Data
        share-to-ou-accounts: true
        share-to-specific-accounts: []
      - definitions:
        - az: a
          cidr: 10.3.64.0/21
          route-table: TestVPC_Common
        - az: b
          cidr: 10.3.72.0/21
          route-table: TestVPC_Common
        - az: d
          cidr: 10.3.80.0/21
          disabled: true
          route-table: TestVPC_Common
        name: Mgmt
        share-to-ou-accounts: false
        share-to-specific-accounts: []
      tgw-attach:
        account: shared-network
        associate-to-tgw: Main
        associate-type: ATTACH
        attach-subnets:
        - TGW
        blackhole-route: true
        options:
        - DNS-support
        tgw-rt-associate:
        - segregated
        tgw-rt-propagate:
        - core
        - shared
      use-central-endpoints: true
      vgw: false
  UnClass:
    aws-config:
    - excl-regions: []
      remediate-regions:
      - ca-central-1
      rules:
      - ELB_LOGGING_ENABLED
      - S3_BUCKET_SERVER_SIDE_ENCRYPTION_ENABLED
      - ACCESS_KEYS_ROTATED
      - ACM_CERTIFICATE_EXPIRATION_CHECK
      - ALB_HTTP_DROP_INVALID_HEADER_ENABLED
      - ALB_HTTP_TO_HTTPS_REDIRECTION_CHECK
      - ALB_WAF_ENABLED
      - API_GW_CACHE_ENABLED_AND_ENCRYPTED
      - API_GW_EXECUTION_LOGGING_ENABLED
      - AUTOSCALING_GROUP_ELB_HEALTHCHECK_REQUIRED
      - CLOUD_TRAIL_CLOUD_WATCH_LOGS_ENABLED
      - CLOUD_TRAIL_ENABLED
      - CLOUD_TRAIL_ENCRYPTION_ENABLED
      - CLOUD_TRAIL_LOG_FILE_VALIDATION_ENABLED
      - CLOUDTRAIL_S3_DATAEVENTS_ENABLED
      - CLOUDTRAIL_SECURITY_TRAIL_ENABLED
      - CLOUDWATCH_ALARM_ACTION_CHECK
      - CODEBUILD_PROJECT_ENVVAR_AWSCRED_CHECK
      - CODEBUILD_PROJECT_SOURCE_REPO_URL_CHECK
      - CW_LOGGROUP_RETENTION_PERIOD_CHECK
      - DB_INSTANCE_BACKUP_ENABLED
      - DMS_REPLICATION_NOT_PUBLIC
      - DYNAMODB_AUTOSCALING_ENABLED
      - DYNAMODB_IN_BACKUP_PLAN
      - DYNAMODB_PITR_ENABLED
      - DYNAMODB_TABLE_ENCRYPTED_KMS
      - EBS_IN_BACKUP_PLAN
      - EBS_SNAPSHOT_PUBLIC_RESTORABLE_CHECK
      - EC2_EBS_ENCRYPTION_BY_DEFAULT
      - EC2_IMDSV2_CHECK
      - EC2_INSTANCE_DETAILED_MONITORING_ENABLED
      - EC2_INSTANCE_MANAGED_BY_SSM
      - EC2_INSTANCE_NO_PUBLIC_IP
      - EC2_MANAGEDINSTANCE_ASSOCIATION_COMPLIANCE_STATUS_CHECK
      - EC2_MANAGEDINSTANCE_PATCH_COMPLIANCE_STATUS_CHECK
      - EC2_STOPPED_INSTANCE
      - EC2_VOLUME_INUSE_CHECK
      - EFS_ENCRYPTED_CHECK
      - EFS_IN_BACKUP_PLAN
      - ELASTICACHE_REDIS_CLUSTER_AUTOMATIC_BACKUP_CHECK
      - ELASTICSEARCH_ENCRYPTED_AT_REST
      - ELASTICSEARCH_IN_VPC_ONLY
      - ELASTICSEARCH_NODE_TO_NODE_ENCRYPTION_CHECK
      - ELB_ACM_CERTIFICATE_REQUIRED
      - ELB_CROSS_ZONE_LOAD_BALANCING_ENABLED
      - ELB_DELETION_PROTECTION_ENABLED
      - ELB_TLS_HTTPS_LISTENERS_ONLY
      - EMR_KERBEROS_ENABLED
      - EMR_MASTER_NO_PUBLIC_IP
      - ENCRYPTED_VOLUMES
      - GUARDDUTY_ENABLED_CENTRALIZED
      - GUARDDUTY_NON_ARCHIVED_FINDINGS
      - IAM_GROUP_HAS_USERS_CHECK
      - IAM_PASSWORD_POLICY
      - IAM_ROOT_ACCESS_KEY_CHECK
      - IAM_USER_GROUP_MEMBERSHIP_CHECK
      - IAM_USER_MFA_ENABLED
      - IAM_USER_NO_POLICIES_CHECK
      - IAM_USER_UNUSED_CREDENTIALS_CHECK
      - INCOMING_SSH_DISABLED
      - INSTANCES_IN_VPC
      - INTERNET_GATEWAY_AUTHORIZED_VPC_ONLY
      - KMS_CMK_NOT_SCHEDULED_FOR_DELETION
      - LAMBDA_FUNCTION_PUBLIC_ACCESS_PROHIBITED
      - MFA_ENABLED_FOR_IAM_CONSOLE_ACCESS
      - MULTI_REGION_CLOUD_TRAIL_ENABLED
      - RDS_ENHANCED_MONITORING_ENABLED
      - RDS_IN_BACKUP_PLAN
      - RDS_INSTANCE_DELETION_PROTECTION_ENABLED
      - RDS_INSTANCE_PUBLIC_ACCESS_CHECK
      - RDS_LOGGING_ENABLED
      - RDS_MULTI_AZ_SUPPORT
      - RDS_SNAPSHOT_ENCRYPTED
      - RDS_SNAPSHOTS_PUBLIC_PROHIBITED
      - RDS_STORAGE_ENCRYPTED
      - REDSHIFT_CLUSTER_CONFIGURATION_CHECK
      - REDSHIFT_CLUSTER_PUBLIC_ACCESS_CHECK
      - REDSHIFT_REQUIRE_TLS_SSL
      - RESTRICTED_INCOMING_TRAFFIC
      - ROOT_ACCOUNT_HARDWARE_MFA_ENABLED
      - ROOT_ACCOUNT_MFA_ENABLED
      - S3_ACCOUNT_LEVEL_PUBLIC_ACCESS_BLOCKS
      - S3_BUCKET_POLICY_GRANTEE_CHECK
      - S3_BUCKET_PUBLIC_READ_PROHIBITED
      - S3_BUCKET_PUBLIC_WRITE_PROHIBITED
      - S3_BUCKET_SSL_REQUESTS_ONLY
      - S3_BUCKET_VERSIONING_ENABLED
      - SAGEMAKER_ENDPOINT_CONFIGURATION_KMS_KEY_CONFIGURED
      - SAGEMAKER_NOTEBOOK_INSTANCE_KMS_KEY_CONFIGURED
      - SAGEMAKER_NOTEBOOK_NO_DIRECT_INTERNET_ACCESS
      - SECURITYHUB_ENABLED
      - VPC_DEFAULT_SECURITY_GROUP_CLOSED
      - VPC_FLOW_LOGS_ENABLED
      - VPC_SG_OPEN_ONLY_TO_AUTHORIZED_PORTS
      - WAFV2_LOGGING_ENABLED
    default-budgets:
      alerts:
      - emails:
        - myemail+aseaT-budg@example.com
        threshold-percent: 50
        type: Actual
      - emails:
        - myemail+aseaT-budg@example.com
        threshold-percent: 75
        type: Actual
      - emails:
        - myemail+aseaT-budg@example.com
        threshold-percent: 90
        type: Actual
      - emails:
        - myemail+aseaT-budg@example.com
        threshold-percent: 100
        type: Actual
      amount: 1000
      include:
      - Upfront-reservation-fees
      - Recurring-reservation-charges
      - Other-subscription-costs
      - Taxes
      - Support-charges
      - Discounts
      name: Default Unclass Budget
      period: Monthly
    iam:
      policies:
      - policy: boundary-policy.txt
        policy-name: Default-Boundary-Policy
      roles:
      - boundary-policy: Default-Boundary-Policy
        policies:
        - AmazonSSMManagedInstanceCore
        - AmazonSSMDirectoryServiceAccess
        - CloudWatchAgentServerPolicy
        role: EC2-Default-SSM-AD-Role
        ssm-log-archive-access: true
        type: ec2
      users: []
    scps:
    - ASEA-Core
    - Guardrails-Part-1
    - Guardrails-Part-2
    - Guardrails-Unclass-Only
    share-mad-from: operations
    ssm-automation:
    - account: operations
      documents:
      - SSM-ELB-Enable-Logging
      - Put-S3-Encryption
      regions:
      - ca-central-1
    type: workload
    vpc:
    - cidr: 10.5.0.0/16
      deploy: shared-network
      dns-resolver-logging: true
      flow-logs: BOTH
      gateway-endpoints:
      - s3
      - dynamodb
      igw: false
      interface-endpoints: false
      name: UnClass
      natgw: false
      pcx: false
      region: ca-central-1
      route-tables:
      - name: UnClassVPC_Common
        routes:
        - destination: 0.0.0.0/0
          target: TGW
        - destination: s3
          target: s3
        - destination: DynamoDB
          target: DynamoDB
      security-groups:
      - inbound-rules:
        - description: Mgmt RDP/SSH Traffic Inbound
          source:
          - 10.0.0.0/8
          - 100.96.252.0/23
          - 100.96.250.0/23
          type:
          - RDP
          - SSH
        - description: Central VPC Traffic Inbound
          source:
          - subnet:
            - Web
            - App
            - Mgmt
            - GCWide
            vpc: Central
          type:
          - ALL
        name: Mgmt
        outbound-rules:
        - description: All Outbound
          source:
          - 0.0.0.0/0
          type:
          - ALL
      - inbound-rules:
        - description: World Web Traffic Inbound
          source:
          - 0.0.0.0/0
          type:
          - HTTP
          - HTTPS
        - description: Central VPC Traffic Inbound
          source:
          - subnet:
            - Web
            - App
            - Mgmt
            - GCWide
            vpc: Central
          type:
          - ALL
        - description: Local Mgmt Traffic Inbound
          source:
          - security-group:
            - Mgmt
          type:
          - ALL
        name: Web
        outbound-rules:
        - description: All Outbound
          source:
          - 0.0.0.0/0
          type:
          - ALL
      - inbound-rules:
        - description: Central VPC Traffic Inbound
          source:
          - subnet:
            - Web
            - App
            - Mgmt
            - GCWide
            vpc: Central
          type:
          - ALL
        - description: Local Mgmt Traffic Inbound
          source:
          - security-group:
            - Mgmt
          type:
          - ALL
        - description: Local Web Tier Inbound
          source:
          - security-group:
            - Web
          type:
          - ALL
        - description: Allow East/West Communication Inbound
          source:
          - security-group:
            - App
          type:
          - ALL
        name: App
        outbound-rules:
        - description: All Outbound
          source:
          - 0.0.0.0/0
          type:
          - ALL
      - inbound-rules:
        - description: Central VPC Traffic Inbound
          source:
          - subnet:
            - Web
            - App
            - Mgmt
            - GCWide
            vpc: Central
          type:
          - ALL
        - description: Local Mgmt Traffic Inbound
          source:
          - security-group:
            - Mgmt
          type:
          - ALL
        - description: Local App DB Traffic Inbound
          source:
          - security-group:
            - App
          type:
          - MSSQL
          - MYSQL/AURORA
          - REDSHIFT
          - POSTGRESQL
          - ORACLE-RDS
        - description: Allow East/West Communication Inbound
          source:
          - security-group:
            - Data
          type:
          - ALL
        name: Data
        outbound-rules:
        - description: All Outbound
          source:
          - 0.0.0.0/0
          type:
          - ALL
      subnets:
      - definitions:
        - az: a
          cidr: 10.5.88.0/27
          route-table: UnClassVPC_Common
        - az: b
          cidr: 10.5.88.32/27
          route-table: UnClassVPC_Common
        - az: d
          cidr: 10.5.88.64/27
          disabled: true
          route-table: UnClassVPC_Common
        name: TGW
        share-to-ou-accounts: false
        share-to-specific-accounts: []
      - definitions:
        - az: a
          cidr: 10.5.32.0/20
          route-table: UnClassVPC_Common
        - az: b
          cidr: 10.5.128.0/20
          route-table: UnClassVPC_Common
        - az: d
          cidr: 10.5.192.0/20
          disabled: true
          route-table: UnClassVPC_Common
        name: Web
        share-to-ou-accounts: true
        share-to-specific-accounts: []
      - definitions:
        - az: a
          cidr: 10.5.0.0/19
          route-table: UnClassVPC_Common
        - az: b
          cidr: 10.5.96.0/19
          route-table: UnClassVPC_Common
        - az: d
          cidr: 10.5.160.0/19
          disabled: true
          route-table: UnClassVPC_Common
        name: App
        share-to-ou-accounts: true
        share-to-specific-accounts: []
      - definitions:
        - az: a
          cidr: 10.5.48.0/20
          route-table: UnClassVPC_Common
        - az: b
          cidr: 10.5.144.0/20
          route-table: UnClassVPC_Common
        - az: d
          cidr: 10.5.208.0/20
          disabled: true
          route-table: UnClassVPC_Common
        nacls:
        - cidr-blocks:
          - subnet:
            - Web
            vpc: UnClass
          - subnet:
            - Data
            vpc: Central
          egress: true
          ports: -1
          protocol: -1
          rule: 100
          rule-action: deny
        - cidr-blocks:
          - 0.0.0.0/0
          egress: true
          ports: -1
          protocol: -1
          rule: 32000
          rule-action: allow
        - cidr-blocks:
          - subnet:
            - Web
            vpc: UnClass
          - subnet:
            - Data
            vpc: Central
          egress: false
          ports: -1
          protocol: -1
          rule: 100
          rule-action: deny
        - cidr-blocks:
          - 0.0.0.0/0
          egress: false
          ports: -1
          protocol: -1
          rule: 32000
          rule-action: allow
        name: Data
        share-to-ou-accounts: true
        share-to-specific-accounts: []
      - definitions:
        - az: a
          cidr: 10.5.64.0/21
          route-table: UnClassVPC_Common
        - az: b
          cidr: 10.5.72.0/21
          route-table: UnClassVPC_Common
        - az: d
          cidr: 10.5.80.0/21
          disabled: true
          route-table: UnClassVPC_Common
        name: Mgmt
        share-to-ou-accounts: false
        share-to-specific-accounts: []
      tgw-attach:
        account: shared-network
        associate-to-tgw: Main
        associate-type: ATTACH
        attach-subnets:
        - TGW
        blackhole-route: true
        options:
        - DNS-support
        tgw-rt-associate:
        - segregated
        tgw-rt-propagate:
        - core
        - shared
      use-central-endpoints: true
      vgw: false
  core:
    aws-config:
    - excl-regions: []
      remediate-regions:
      - ca-central-1
      rules:
      - ELB_LOGGING_ENABLED
      - S3_BUCKET_SERVER_SIDE_ENCRYPTION_ENABLED
      - ACCESS_KEYS_ROTATED
      - ACM_CERTIFICATE_EXPIRATION_CHECK
      - ALB_HTTP_DROP_INVALID_HEADER_ENABLED
      - ALB_HTTP_TO_HTTPS_REDIRECTION_CHECK
      - ALB_WAF_ENABLED
      - API_GW_CACHE_ENABLED_AND_ENCRYPTED
      - API_GW_EXECUTION_LOGGING_ENABLED
      - AUTOSCALING_GROUP_ELB_HEALTHCHECK_REQUIRED
      - CLOUD_TRAIL_CLOUD_WATCH_LOGS_ENABLED
      - CLOUD_TRAIL_ENABLED
      - CLOUD_TRAIL_ENCRYPTION_ENABLED
      - CLOUD_TRAIL_LOG_FILE_VALIDATION_ENABLED
      - CLOUDTRAIL_S3_DATAEVENTS_ENABLED
      - CLOUDTRAIL_SECURITY_TRAIL_ENABLED
      - CLOUDWATCH_ALARM_ACTION_CHECK
      - CODEBUILD_PROJECT_ENVVAR_AWSCRED_CHECK
      - CODEBUILD_PROJECT_SOURCE_REPO_URL_CHECK
      - CW_LOGGROUP_RETENTION_PERIOD_CHECK
      - DB_INSTANCE_BACKUP_ENABLED
      - DMS_REPLICATION_NOT_PUBLIC
      - DYNAMODB_AUTOSCALING_ENABLED
      - DYNAMODB_IN_BACKUP_PLAN
      - DYNAMODB_PITR_ENABLED
      - DYNAMODB_TABLE_ENCRYPTED_KMS
      - EBS_IN_BACKUP_PLAN
      - EBS_SNAPSHOT_PUBLIC_RESTORABLE_CHECK
      - EC2_EBS_ENCRYPTION_BY_DEFAULT
      - EC2_IMDSV2_CHECK
      - EC2_INSTANCE_DETAILED_MONITORING_ENABLED
      - EC2_INSTANCE_MANAGED_BY_SSM
      - EC2_INSTANCE_NO_PUBLIC_IP
      - EC2_MANAGEDINSTANCE_ASSOCIATION_COMPLIANCE_STATUS_CHECK
      - EC2_MANAGEDINSTANCE_PATCH_COMPLIANCE_STATUS_CHECK
      - EC2_STOPPED_INSTANCE
      - EC2_VOLUME_INUSE_CHECK
      - EFS_ENCRYPTED_CHECK
      - EFS_IN_BACKUP_PLAN
      - ELASTICACHE_REDIS_CLUSTER_AUTOMATIC_BACKUP_CHECK
      - ELASTICSEARCH_ENCRYPTED_AT_REST
      - ELASTICSEARCH_IN_VPC_ONLY
      - ELASTICSEARCH_NODE_TO_NODE_ENCRYPTION_CHECK
      - ELB_ACM_CERTIFICATE_REQUIRED
      - ELB_CROSS_ZONE_LOAD_BALANCING_ENABLED
      - ELB_DELETION_PROTECTION_ENABLED
      - ELB_TLS_HTTPS_LISTENERS_ONLY
      - EMR_KERBEROS_ENABLED
      - EMR_MASTER_NO_PUBLIC_IP
      - ENCRYPTED_VOLUMES
      - GUARDDUTY_ENABLED_CENTRALIZED
      - GUARDDUTY_NON_ARCHIVED_FINDINGS
      - IAM_GROUP_HAS_USERS_CHECK
      - IAM_PASSWORD_POLICY
      - IAM_ROOT_ACCESS_KEY_CHECK
      - IAM_USER_GROUP_MEMBERSHIP_CHECK
      - IAM_USER_MFA_ENABLED
      - IAM_USER_NO_POLICIES_CHECK
      - IAM_USER_UNUSED_CREDENTIALS_CHECK
      - INCOMING_SSH_DISABLED
      - INSTANCES_IN_VPC
      - INTERNET_GATEWAY_AUTHORIZED_VPC_ONLY
      - KMS_CMK_NOT_SCHEDULED_FOR_DELETION
      - LAMBDA_FUNCTION_PUBLIC_ACCESS_PROHIBITED
      - MFA_ENABLED_FOR_IAM_CONSOLE_ACCESS
      - MULTI_REGION_CLOUD_TRAIL_ENABLED
      - RDS_ENHANCED_MONITORING_ENABLED
      - RDS_IN_BACKUP_PLAN
      - RDS_INSTANCE_DELETION_PROTECTION_ENABLED
      - RDS_INSTANCE_PUBLIC_ACCESS_CHECK
      - RDS_LOGGING_ENABLED
      - RDS_MULTI_AZ_SUPPORT
      - RDS_SNAPSHOT_ENCRYPTED
      - RDS_SNAPSHOTS_PUBLIC_PROHIBITED
      - RDS_STORAGE_ENCRYPTED
      - REDSHIFT_CLUSTER_CONFIGURATION_CHECK
      - REDSHIFT_CLUSTER_PUBLIC_ACCESS_CHECK
      - REDSHIFT_REQUIRE_TLS_SSL
      - RESTRICTED_INCOMING_TRAFFIC
      - ROOT_ACCOUNT_HARDWARE_MFA_ENABLED
      - ROOT_ACCOUNT_MFA_ENABLED
      - S3_ACCOUNT_LEVEL_PUBLIC_ACCESS_BLOCKS
      - S3_BUCKET_POLICY_GRANTEE_CHECK
      - S3_BUCKET_PUBLIC_READ_PROHIBITED
      - S3_BUCKET_PUBLIC_WRITE_PROHIBITED
      - S3_BUCKET_SSL_REQUESTS_ONLY
      - S3_BUCKET_VERSIONING_ENABLED
      - SAGEMAKER_ENDPOINT_CONFIGURATION_KMS_KEY_CONFIGURED
      - SAGEMAKER_NOTEBOOK_INSTANCE_KMS_KEY_CONFIGURED
      - SAGEMAKER_NOTEBOOK_NO_DIRECT_INTERNET_ACCESS
      - SECURITYHUB_ENABLED
      - VPC_DEFAULT_SECURITY_GROUP_CLOSED
      - VPC_FLOW_LOGS_ENABLED
      - VPC_SG_OPEN_ONLY_TO_AUTHORIZED_PORTS
      - WAFV2_LOGGING_ENABLED
    default-budgets:
      alerts:
      - emails:
        - myemail+aseaT-budg@example.com
        threshold-percent: 50
        type: Actual
      - emails:
        - myemail+aseaT-budg@example.com
        threshold-percent: 75
        type: Actual
      - emails:
        - myemail+aseaT-budg@example.com
        threshold-percent: 90
        type: Actual
      - emails:
        - myemail+aseaT-budg@example.com
        threshold-percent: 100
        type: Actual
      amount: 1000
      include:
      - Upfront-reservation-fees
      - Recurring-reservation-charges
      - Other-subscription-costs
      - Taxes
      - Support-charges
      - Discounts
      name: Default Core Budget
      period: Monthly
    scps:
    - ASEA-Core
    - Guardrails-Part-1
    - Guardrails-Part-2
    - Guardrails-PBMM-Only
    ssm-automation:
    - account: operations
      documents:
      - SSM-ELB-Enable-Logging
      - Put-S3-Encryption
      regions:
      - ca-central-1
    type: ignore
workload-account-configs:
  fun-acct:
    account-name: TheFunAccount
    email: myemail+aseaT-funacct@example.com---------------------REPLACE----------------------
    ou: Sandbox
    src-filename: config.json
  mydevacct1:
    account-name: MyDev1
    email: myemail+aseaT-dev1@example.com---------------------REPLACE----------------------
    ou: Dev
    src-filename: config.json
